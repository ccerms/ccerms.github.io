import{V as re,r as h,A as j,o,k as u,a as i,w as b,b as s,F as g,L as k,t as f,c as N,u as a,aa as M,E,v as ee,f as z,a8 as Q,x as le,y as Y,a5 as ie,B as X,a6 as ce,a7 as pe,e as be,l as ve,S as fe,a9 as me}from"./index.02e3cb5b.js";import{_ as Z}from"./CardBoxModal.1a333cdf.js";import{_ as O}from"./FormField.7710561b.js";import{_ as A}from"./FormControl.dbc7ef08.js";import{c as ae}from"./alert.93440aee.js";import{u as te}from"./groups.328bec25.js";import{u as se}from"./students.3e0d98ae.js";import{u as oe}from"./users.69ca7b82.js";import{s as ue,a as de}from"./settings_data.619c00ae.js";import{u as _e}from"./course.d11ee161.js";import{u as ge}from"./milestoneone.5e315fe5.js";import{u as ye}from"./milestonetwo.129efb8c.js";const he={class:"flex justify-center"},ke={key:0,class:"bg-white rounded-lg w-96 text-gray-900"},we={key:1,class:"p-1 bg-lime-300 text-white text-sm rounded font-semibold"},xe={key:1,class:"bg-white rounded-lg w-96 text-gray-900"},$e={key:1,class:"p-1 bg-lime-300 text-white text-sm rounded font-semibold"},Ce={key:2,class:"bg-white rounded-lg w-96 text-gray-900"},qe={key:1,class:"p-1 bg-lime-300 text-white text-sm rounded font-semibold"},Ve=s("h4",{class:"text-center"}," Click Delete to remove from list... ",-1),Se={class:"space-y-3"},Ue={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Oe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ae={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ie={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Te={class:"flex justify-center"},Me={class:"bg-white rounded-lg w-96 text-gray-900"},je={class:"flex justify-center"},Pe={class:"bg-white rounded-lg w-96 text-gray-900"},De={class:"flex justify-center"},Ee={class:"bg-white rounded-lg w-96 text-gray-900"},Ge={__name:"Create",props:{courses:{type:Array,default:[]},milestoneOne:{type:Array,default:[]},milestoneTwo:{type:Array,default:[]}},emits:["back","groupCreate"],setup(W,{emit:P}){const S=W,t=te(),v=se(),n=oe(),q=re(),w=h(!1),m=h(""),U=h(""),F=h(""),G=h(!1),y=h(null),K=j(()=>{const r=[];return S.courses.forEach(l=>{r.push({id:l.id,label:l.course.toUpperCase()})}),r}),J=j(()=>{const r=[];return S.milestoneOne.forEach(l=>{r.push({id:l.id,label:l.milestone.toUpperCase()})}),r}),x=j(()=>{const r=[];return S.milestoneTwo.forEach(l=>{r.push({id:l.id,label:l.milestone.toUpperCase()})}),r}),$=j(()=>ue.filter(r=>r.id>=9)),d=()=>{P("back",!1)},c=()=>{q.showLoading=!0,t.create().then(r=>{r.member_registered.forEach(l=>{const e=v.available.indexOf(v.available.find(p=>p.id==l.id));console.log(e),v.available.splice(e,1)}),ae("success","Successfully created!"),n.refreshAvailability(),P("groupCreate",{status:!0,list:r.data.groups}),q.showLoading=!1}).catch(()=>{ae("warning","Check field required!"),P("groupCreate",{status:!1}),q.showLoading=!1})},V=r=>{m.value=r,U.value="Add "+r,w.value=!0,F.value=""},C=(r,l)=>{switch(l){case"member":v.available[r].available=!1,v.available[r].is_create=!0;const e=v.available[r];t.request.member.push(e);break;case"adviser":n.adviser_available[r].is_create=!0;const p=n.adviser_available[r];t.request.adviser.push(p),n.adviser_available[r].available=!1;const _=n.panel_available.indexOf(n.panel_available.find(T=>T.id==p.id));_>=0&&(n.panel_available[_].available=!1);break;default:n.panel_available[r].is_create=!0;const H=n.panel_available[r];t.request.panel.push(H),n.panel_available[r].available=!1;const L=n.adviser_available.indexOf(n.adviser_available.find(T=>T.id==H.id));L>=0&&(n.adviser_available[L].available=!1);break}},I=(r,l)=>{y.value=r,m.value=l,G.value=!0},B=()=>{switch(m.value){case"member":const r=t.request.member[y.value].id,l=v.available.indexOf(v.available.find(D=>D.id==r));v.available[l].available=!0,t.request.member.splice(y.value,1);break;case"adviser":const e=t.request.adviser[y.value].id,p=n.adviser_available.indexOf(n.adviser_available.find(D=>D.id==e)),_=n.panel_available.indexOf(n.panel_available.find(D=>D.id==e));p>=0&&(n.adviser_available[p].available=!0),_>=0&&(n.panel_available[_].available=!0),t.request.adviser.splice(y.value,1);break;default:const H=t.request.panel[y.value].id,L=n.adviser_available.indexOf(n.adviser_available.find(D=>D.id==H)),T=n.panel_available.indexOf(n.panel_available.find(D=>D.id==H));L>=0&&(n.adviser_available[L].available=!0),T>=0&&(n.panel_available[T].available=!0),t.request.panel.splice(y.value,1);break}m.value=="member"||m.value=="adviser"};return(r,l)=>(o(),u(g,null,[i(Z,{modelValue:w.value,"onUpdate:modelValue":l[0]||(l[0]=e=>w.value=e),"large-title":U.value,buttonLabel:"Close"},{default:b(()=>[s("div",he,[m.value=="member"?(o(),u("ul",ke,[(o(!0),u(g,null,k(a(v).available,(e,p)=>(o(),u("li",{key:e.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[s("p",null,f(e.fullname),1),e.available?(o(),N(E,{key:0,path:a(M),class:"cursor-pointer mr-3",onClick:_=>C(p,"member")},null,8,["path","onClick"])):(o(),u("div",we,"Added"))]))),128))])):m.value=="adviser"?(o(),u("ul",xe,[(o(!0),u(g,null,k(a(n).adviser_available,(e,p)=>(o(),u("li",{key:e.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[s("p",null,f(e.fullname),1),e.available?(o(),N(E,{key:0,path:a(M),class:"cursor-pointer mr-3",onClick:_=>C(p,"adviser")},null,8,["path","onClick"])):(o(),u("div",$e,"Added"))]))),128))])):(o(),u("ul",Ce,[(o(!0),u(g,null,k(a(n).panel_available,(e,p)=>(o(),u("li",{key:e.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[s("p",null,f(e.fullname),1),e.available?(o(),N(E,{key:0,path:a(M),class:"cursor-pointer mr-3",onClick:_=>C(p,"panel")},null,8,["path","onClick"])):(o(),u("div",qe,"Added"))]))),128))]))])]),_:1},8,["modelValue","large-title"]),i(Z,{modelValue:G.value,"onUpdate:modelValue":l[1]||(l[1]=e=>G.value=e),"large-title":"Delete entry...",button:"warning",buttonLabel:"Delete",onConfirm:l[2]||(l[2]=e=>B())},{default:b(()=>[Ve]),_:1},8,["modelValue"]),i(z,{title:"Create New Group",form:!0,headerIcon:a(ie),onHeaderIconClick:l[14]||(l[14]=e=>d())},{default:b(()=>[s("div",Se,[i(O,{label:"Research Title"},{default:b(()=>[i(A,{modelValue:a(t).request.title,"onUpdate:modelValue":l[3]||(l[3]=e=>a(t).request.title=e)},null,8,["modelValue"])]),_:1}),i(O,{label:"Groupname"},{default:b(()=>[i(A,{modelValue:a(t).request.groupname,"onUpdate:modelValue":l[4]||(l[4]=e=>a(t).request.groupname=e)},null,8,["modelValue"])]),_:1}),s("div",Ue,[i(O,{label:"Course"},{default:b(()=>[i(A,{modelValue:a(t).request.course,"onUpdate:modelValue":l[5]||(l[5]=e=>a(t).request.course=e),options:a(K)},null,8,["modelValue","options"])]),_:1}),i(O,{label:"Type"},{default:b(()=>[i(A,{modelValue:a(t).request.type,"onUpdate:modelValue":l[6]||(l[6]=e=>a(t).request.type=e),options:a(de)},null,8,["modelValue","options"])]),_:1})]),s("div",Oe,[i(O,{label:"Milestone"},{default:b(()=>[i(A,{modelValue:a(t).request.milestone,"onUpdate:modelValue":l[7]||(l[7]=e=>a(t).request.milestone=e),options:a(t).request.type==1||a(t).request.type==""?a(J):a(x)},null,8,["modelValue","options"])]),_:1}),i(O,{label:"Progress",help:"Overall Percent Progress. 0% to 100%"},{default:b(()=>[i(A,{modelValue:a(t).request.progress,"onUpdate:modelValue":l[8]||(l[8]=e=>a(t).request.progress=e)},null,8,["modelValue"])]),_:1})]),s("div",Ae,[i(O,{label:"Status"},{default:b(()=>[i(A,{modelValue:a(t).request.status,"onUpdate:modelValue":l[9]||(l[9]=e=>a(t).request.status=e),options:a($)},null,8,["modelValue","options"])]),_:1})]),i(ee),s("div",Ie,[s("div",null,[i(z,{title:"Members",headerIcon:a(M),onHeaderIconClick:l[10]||(l[10]=e=>V("member"))},{default:b(()=>[s("div",Te,[s("ul",Me,[(o(!0),u(g,null,k(a(t).request.member,(e,p)=>(o(),u("li",{key:e.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[s("p",null,f(e.fullname),1),i(E,{path:a(Q),class:"cursor-pointer mr-3",onClick:_=>I(p,"member")},null,8,["path","onClick"])]))),128))])])]),_:1},8,["headerIcon"])]),s("div",null,[i(z,{title:"Adviser(s)",headerIcon:a(M),onHeaderIconClick:l[11]||(l[11]=e=>V("adviser"))},{default:b(()=>[s("div",je,[s("ul",Pe,[(o(!0),u(g,null,k(a(t).request.adviser,(e,p)=>(o(),u("li",{key:e.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[s("p",null,f(e.fullname),1),i(E,{path:a(Q),class:"cursor-pointer mr-3",onClick:_=>I(p,"adviser")},null,8,["path","onClick"])]))),128))])])]),_:1},8,["headerIcon"])]),s("div",null,[i(z,{title:"Panel(s)",headerIcon:a(M),onHeaderIconClick:l[12]||(l[12]=e=>V("panel"))},{default:b(()=>[s("div",De,[s("ul",Ee,[(o(!0),u(g,null,k(a(t).request.panel,(e,p)=>(o(),u("li",{key:e.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[s("p",null,f(e.fullname),1),i(E,{path:a(Q),class:"cursor-pointer mr-3",onClick:_=>I(p,"panel")},null,8,["path","onClick"])]))),128))])])]),_:1},8,["headerIcon"])])])]),i(ee),i(le,null,{default:b(()=>[i(Y,{label:"Create",color:"info",onClick:l[13]||(l[13]=e=>c())})]),_:1})]),_:1},8,["headerIcon"])],64))}},Be={class:"flex justify-center"},He={key:0,class:"bg-white rounded-lg w-96 text-gray-900"},Le={key:1,class:"p-1 bg-lime-300 text-white text-sm rounded font-semibold"},Ne={key:1,class:"bg-white rounded-lg w-96 text-gray-900"},Fe={key:1,class:"p-1 bg-lime-300 text-white text-sm rounded font-semibold"},Re={key:2,class:"bg-white rounded-lg w-96 text-gray-900"},ze={key:1,class:"p-1 bg-lime-300 text-white text-sm rounded font-semibold"},Je=s("h4",{class:"text-center"}," Click Delete to remove from list... ",-1),Ke={class:"space-y-3"},Qe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},We={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Xe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ye={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ze={class:"flex justify-center"},el={class:"bg-white rounded-lg w-96 text-gray-900"},ll={class:"flex justify-center"},al={class:"bg-white rounded-lg w-96 text-gray-900"},tl={class:"flex justify-center"},sl={class:"bg-white rounded-lg w-96 text-gray-900"},ol={__name:"Update",props:{courses:{type:Array,default:[]},milestoneOne:{type:Array,default:[]},milestoneTwo:{type:Array,default:[]}},emits:["back","groupUpdate"],setup(W,{emit:P}){const S=W,t=te(),v=se(),n=oe(),q=re(),w=h(!1),m=h(""),U=h(""),F=h(""),G=h(!1),y=h(null),K=j(()=>{const r=[];return S.courses.forEach(l=>{r.push({id:l.id,label:l.course.toUpperCase()})}),r}),J=j(()=>{const r=[];return S.milestoneOne.forEach(l=>{r.push({id:l.id,label:l.milestone.toUpperCase()})}),r}),x=j(()=>{const r=[];return S.milestoneTwo.forEach(l=>{r.push({id:l.id,label:l.milestone.toUpperCase()})}),r}),$=j(()=>ue.filter(r=>r.id>=9)),d=()=>{P("back",!1)},c=()=>{q.showLoading=!0,t.update().then(r=>{r.member_registered.forEach(l=>{const e=v.available.indexOf(v.available.find(p=>p.id==l.id));v.available.splice(e,1)}),ae("success","Successfully updated!"),n.refreshAvailability(),P("groupUpdate",{status:!0,list:r.data.groups}),q.showLoading=!1}).catch(()=>{ae("warning","Server error!"),P("groupUpdate",{status:!1}),q.showLoading=!1})},V=r=>{m.value=r,U.value="Add "+r,w.value=!0,F.value=""},C=(r,l)=>{switch(l){case"member":v.available[r].available=!1,v.available[r].is_create=!0;const e=v.available[r];t.request.member.push(e);break;case"adviser":n.adviser_available[r].is_create=!0;const p=n.adviser_available[r];t.request.adviser.push(p),n.adviser_available[r].available=!1;const _=n.panel_available.indexOf(n.panel_available.find(T=>T.id==p.id));_>=0&&(n.panel_available[_].available=!1);break;default:n.panel_available[r].is_create=!0;const H=n.panel_available[r];t.request.panel.push(H),n.panel_available[r].available=!1;const L=n.adviser_available.indexOf(n.adviser_available.find(T=>T.id==H.id));L>=0&&(n.adviser_available[L].available=!1);break}},I=(r,l)=>{y.value=r,m.value=l,G.value=!0},B=()=>{switch(m.value){case"member":const r=t.request.member[y.value].id,l=v.available.indexOf(v.available.find(R=>R.id==r));v.available[l].available=!0,t.request.member.splice(y.value,1),t.destroy_personnel(r,"groupmembers");break;case"adviser":const e=t.request.adviser[y.value].parent_id,p=t.request.adviser[y.value].id,_=n.adviser_available.indexOf(n.adviser_available.find(R=>R.id==p)),H=n.panel_available.indexOf(n.panel_available.find(R=>R.id==p));_>=0&&(n.adviser_available[_].available=!0),H>=0&&(n.panel_available[H].available=!0),t.request.adviser.splice(y.value,1),e!=null&&t.destroy_personnel(e,"groupadvisers");break;default:const L=t.request.panel[y.value].parent_id,T=t.request.panel[y.value].id,D=n.adviser_available.indexOf(n.adviser_available.find(R=>R.id==T)),ne=n.panel_available.indexOf(n.panel_available.find(R=>R.id==T));D>=0&&(n.adviser_available[D].available=!0),ne>=0&&(n.panel_available[ne].available=!0),t.request.panel.splice(y.value,1),L!=null&&t.destroy_personnel(L,"grouppanels");break}m.value=="member"||m.value=="adviser"};return(r,l)=>(o(),u(g,null,[i(Z,{modelValue:w.value,"onUpdate:modelValue":l[0]||(l[0]=e=>w.value=e),"large-title":U.value,buttonLabel:"Close"},{default:b(()=>[s("div",Be,[m.value=="member"?(o(),u("ul",He,[(o(!0),u(g,null,k(a(v).available,(e,p)=>(o(),u("li",{key:e.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[s("p",null,f(e.fullname),1),e.available?(o(),N(E,{key:0,path:a(M),class:"cursor-pointer mr-3",onClick:_=>C(p,"member")},null,8,["path","onClick"])):(o(),u("div",Le,"Added"))]))),128))])):m.value=="adviser"?(o(),u("ul",Ne,[(o(!0),u(g,null,k(a(n).adviser_available,(e,p)=>(o(),u("li",{key:e.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[s("p",null,f(e.fullname),1),e.available?(o(),N(E,{key:0,path:a(M),class:"cursor-pointer mr-3",onClick:_=>C(p,"adviser")},null,8,["path","onClick"])):(o(),u("div",Fe,"Added"))]))),128))])):(o(),u("ul",Re,[(o(!0),u(g,null,k(a(n).panel_available,(e,p)=>(o(),u("li",{key:e.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[s("p",null,f(e.fullname),1),e.available?(o(),N(E,{key:0,path:a(M),class:"cursor-pointer mr-3",onClick:_=>C(p,"panel")},null,8,["path","onClick"])):(o(),u("div",ze,"Added"))]))),128))]))])]),_:1},8,["modelValue","large-title"]),i(Z,{modelValue:G.value,"onUpdate:modelValue":l[1]||(l[1]=e=>G.value=e),"large-title":"Delete entry...",button:"warning",buttonLabel:"Delete",onConfirm:l[2]||(l[2]=e=>B())},{default:b(()=>[Je]),_:1},8,["modelValue"]),i(z,{title:"Update Group",form:!0,headerIcon:a(ie),onHeaderIconClick:l[14]||(l[14]=e=>d())},{default:b(()=>[s("div",Ke,[i(O,{label:"Research Title"},{default:b(()=>[i(A,{modelValue:a(t).request.title,"onUpdate:modelValue":l[3]||(l[3]=e=>a(t).request.title=e)},null,8,["modelValue"])]),_:1}),i(O,{label:"Groupname"},{default:b(()=>[i(A,{modelValue:a(t).request.groupname,"onUpdate:modelValue":l[4]||(l[4]=e=>a(t).request.groupname=e)},null,8,["modelValue"])]),_:1}),s("div",Qe,[i(O,{label:"Course"},{default:b(()=>[i(A,{modelValue:a(t).request.course,"onUpdate:modelValue":l[5]||(l[5]=e=>a(t).request.course=e),options:a(K)},null,8,["modelValue","options"])]),_:1}),i(O,{label:"Type"},{default:b(()=>[i(A,{modelValue:a(t).request.type,"onUpdate:modelValue":l[6]||(l[6]=e=>a(t).request.type=e),options:a(de)},null,8,["modelValue","options"])]),_:1})]),s("div",We,[i(O,{label:"Milestone"},{default:b(()=>[i(A,{modelValue:a(t).request.milestone,"onUpdate:modelValue":l[7]||(l[7]=e=>a(t).request.milestone=e),options:a(t).request.type==1||a(t).request.type==""?a(J):a(x)},null,8,["modelValue","options"])]),_:1}),i(O,{label:"Progress",help:"Overall Percent Progress. 0% to 100%"},{default:b(()=>[i(A,{modelValue:a(t).request.progress,"onUpdate:modelValue":l[8]||(l[8]=e=>a(t).request.progress=e)},null,8,["modelValue"])]),_:1})]),s("div",Xe,[i(O,{label:"Status"},{default:b(()=>[i(A,{modelValue:a(t).request.status,"onUpdate:modelValue":l[9]||(l[9]=e=>a(t).request.status=e),options:a($)},null,8,["modelValue","options"])]),_:1})]),i(ee),s("div",Ye,[s("div",null,[i(z,{title:"Members",headerIcon:a(M),onHeaderIconClick:l[10]||(l[10]=e=>V("member"))},{default:b(()=>[s("div",Ze,[s("ul",el,[(o(!0),u(g,null,k(a(t).request.member,(e,p)=>(o(),u("li",{key:e.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[s("p",null,f(e.fullname),1),i(E,{path:a(Q),class:"cursor-pointer mr-3",onClick:_=>I(p,"member")},null,8,["path","onClick"])]))),128))])])]),_:1},8,["headerIcon"])]),s("div",null,[i(z,{title:"Adviser(s)",headerIcon:a(M),onHeaderIconClick:l[11]||(l[11]=e=>V("adviser"))},{default:b(()=>[s("div",ll,[s("ul",al,[(o(!0),u(g,null,k(a(t).request.adviser,(e,p)=>(o(),u("li",{key:e.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[s("p",null,f(e.fullname),1),i(E,{path:a(Q),class:"cursor-pointer mr-3",onClick:_=>I(p,"adviser")},null,8,["path","onClick"])]))),128))])])]),_:1},8,["headerIcon"])]),s("div",null,[i(z,{title:"Panel(s)",headerIcon:a(M),onHeaderIconClick:l[12]||(l[12]=e=>V("panel"))},{default:b(()=>[s("div",tl,[s("ul",sl,[(o(!0),u(g,null,k(a(t).request.panel,(e,p)=>(o(),u("li",{key:e.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[s("p",null,f(e.fullname),1),i(E,{path:a(Q),class:"cursor-pointer mr-3",onClick:_=>I(p,"panel")},null,8,["path","onClick"])]))),128))])])]),_:1},8,["headerIcon"])])])]),i(ee),i(le,null,{default:b(()=>[i(Y,{label:"Update",color:"info",onClick:l[13]||(l[13]=e=>c())})]),_:1})]),_:1},8,["headerIcon"])],64))}},nl={key:0,class:"p-3 bg-gray-100/50 dark:bg-gray-800"},rl={key:0},il=s("th",null,"Title",-1),ul=s("th",null,"Groupname",-1),dl=s("th",null,"Course",-1),cl=s("th",null,"Type",-1),pl=s("th",null,"Milestone",-1),bl=s("th",null,"Progress",-1),vl=s("th",null,"Members",-1),fl=s("th",null,"Adviser(s)",-1),ml=s("th",null,"Panels",-1),_l=s("th",null,"Status",-1),gl=s("th",null,null,-1),yl={"data-label":"Title"},hl={"data-label":"Groupname"},kl={"data-label":"Course"},wl={"data-label":"Type"},xl={"data-label":"Milestone"},$l={key:0},Cl={key:1},ql={"data-label":"Progress"},Vl={key:0},Sl={key:1},Ul={"data-label":"Members"},Ol={"data-label":"Adviser(s)"},Al={"data-label":"Panels"},Il={"data-label":"Status"},Tl={key:0,class:"p-1 bg-lime-400 text-white text-sm rounded font-semibold"},Ml={key:1,class:"p-1 bg-red-400 text-white text-sm rounded font-semibold"},jl={class:"before:hidden lg:w-1 whitespace-nowrap"},Pl={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-gray-800"},Dl={__name:"Table",props:{data:{type:Array,default:[]},checkable:Boolean},emits:["select-group","destroy-group"],setup(W,{emit:P}){const S=W,t=j(()=>S.data);h(!1);const v=h(10),n=h(0),q=h([]),w=j(()=>t.value.slice(v.value*n.value,v.value*(n.value+1))),m=j(()=>Math.ceil(t.value.length/v.value)),U=j(()=>n.value+1),F=j(()=>{const x=[];for(let $=0;$<m.value;$++)x.push($);return x}),G=x=>{P("select-group",x)},y=x=>{P("destroy-group",x)},K=(x,$)=>{const d=[];return x.forEach(c=>{$(c)||d.push(c)}),d},J=(x,$)=>{x?q.value.push($):q.value=K(q.value,d=>d.id===$.id)};return(x,$)=>(o(),u(g,null,[q.value.length?(o(),u("div",nl,[(o(!0),u(g,null,k(q.value,d=>(o(),u("span",{key:d.id,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm bg-gray-100 dark:bg-gray-700"},f(d.name),1))),128))])):X("",!0),s("table",null,[s("thead",null,[s("tr",null,[S.checkable?(o(),u("th",rl)):X("",!0),il,ul,dl,cl,pl,bl,vl,fl,ml,_l,gl])]),s("tbody",null,[(o(!0),u(g,null,k(a(w),d=>(o(),u("tr",{key:d.id},[S.checkable?(o(),N(ce,{key:0,onChecked:c=>J(c,d)},null,8,["onChecked"])):X("",!0),s("td",yl,f(d.title),1),s("td",hl,f(d.groupname),1),s("td",kl,f(d.course.course.toUpperCase()),1),s("td",wl,f(d.grouptype.type),1),s("td",xl,[d.type_id==1?(o(),u("span",$l,f(d.onemilestone!=null?d.onemilestone.milestone:""),1)):(o(),u("span",Cl,f(d.twomilestone!=null?d.twomilestone.milestone:""),1))]),s("td",ql,[d.type_id==1?(o(),u("span",Vl,f(`${d.progress_one}%`),1)):(o(),u("span",Sl,f(`${d.progress_two}%`),1))]),s("td",Ul,[(o(!0),u(g,null,k(d.member,c=>(o(),u("span",{key:c.id,class:"bg-blue-100 text-blue-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-blue-200 dark:text-blue-800"},f(`${c.user.firstname} ${c.user.middlename} ${c.user.lastname}`),1))),128))]),s("td",Ol,[(o(!0),u(g,null,k(d.adviser,c=>(o(),u("span",{key:c.id,class:"bg-blue-100 text-blue-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-blue-200 dark:text-blue-800"},f(`${c.user.firstname} ${c.user.middlename} ${c.user.lastname}`),1))),128))]),s("td",Al,[(o(!0),u(g,null,k(d.panel,c=>(o(),u("span",{key:c.id,class:"bg-blue-100 text-blue-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-blue-200 dark:text-blue-800"},f(`${c.user.firstname} ${c.user.middlename} ${c.user.lastname}`),1))),128))]),s("td",Il,[d.status_id==9?(o(),u("span",Tl,f(d.status.status),1)):(o(),u("span",Ml,f(d.status.status),1))]),s("td",jl,[i(le,{type:"justify-start lg:justify-end","no-wrap":""},{default:b(()=>[i(Y,{color:"info",icon:a(pe),small:"",onClick:c=>G(d)},null,8,["icon","onClick"]),i(Y,{color:"danger",icon:a(Q),small:"",onClick:c=>y(d)},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])]),s("div",Pl,[i(be,null,{default:b(()=>[i(le,null,{default:b(()=>[(o(!0),u(g,null,k(a(F),d=>(o(),N(Y,{key:d,active:d===n.value,label:d+1,small:"",onClick:c=>n.value=d},null,8,["active","label","onClick"]))),128))]),_:1}),s("small",null,"Page "+f(a(U))+" of "+f(a(m)),1)]),_:1})])],64))}},Wl={__name:"Groups",setup(W){const P=h(["Admin","General","Groups"]),S=_e(),t=te(),v=ge(),n=ye(),q=se(),w=oe(),m=h(!1),U=h(!1);h(!1);const F=h(!1);S.fetch(),t.fetch(),v.fetch(),n.fetch(),q.fetchAvailable(),w.fetchAvailable();const G=()=>{m.value=!0,U.value=!1},y=c=>{c.status&&(m.value=!1,U.value=!1)},K=c=>{c.status&&(t.list=c.list,m.value=!1,U.value=!1)},J=()=>{m.value=!1,U.value=!1,t.clear()},x=c=>{U.value=!0,m.value=!1,t.select(c),$(t.request.adviser,"adviser"),$(t.request.panel,"panel"),$(t.request.member,"member")},$=(c,V)=>{switch(V){case"adviser":c.forEach(C=>{const I=w.adviser_available.find(B=>B.id==C.id);if(I!=null){const B=w.adviser_available.indexOf(I);w.adviser_available[B].available=!1}});break;case"panel":c.forEach(C=>{const I=w.panel_available.find(B=>B.id==C.id);if(I!=null){const B=w.panel_available.indexOf(I);w.panel_available[B].available=!1}});break;default:c.forEach(C=>{q.available.push(C)});break}},d=c=>{F.value=!0,t.select(c)};return(c,V)=>(o(),u(g,null,[i(Z,{modelValue:F.value,"onUpdate:modelValue":V[0]||(V[0]=C=>F.value=C),"large-title":"Delete Milestone",button:"danger",buttonLabel:"Confirm",onConfirm:V[1]||(V[1]=C=>c.milestoneStore.destroy()),"has-cancel":""},null,8,["modelValue"]),i(ve,{"title-stack":P.value},null,8,["title-stack"]),i(fe,null,{default:b(()=>[m.value?(o(),N(Ge,{key:0,courses:a(S).list,milestoneOne:a(v).list,milestoneTwo:a(n).list,onBack:J,onGroupCreate:y},null,8,["courses","milestoneOne","milestoneTwo"])):X("",!0),U.value?(o(),N(ol,{key:1,courses:a(S).list,milestoneOne:a(v).list,milestoneTwo:a(n).list,onBack:J,onGroupUpdate:K},null,8,["courses","milestoneOne","milestoneTwo"])):X("",!0),!m.value&&!U.value?(o(),N(z,{key:2,title:"Groups List",hasTable:!0,icon:a(me),headerIcon:a(M),onHeaderIconClick:V[2]||(V[2]=C=>G())},{default:b(()=>[i(Dl,{data:a(t).list,onSelectGroup:x,onDestroyGroup:d},null,8,["data"])]),_:1},8,["icon","headerIcon"])):X("",!0)]),_:1})],64))}};export{Wl as default};
