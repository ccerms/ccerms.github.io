import{r as k,ap as ne,c as P,o as n,a as u,b as i,w as p,f as o,F as h,d as w,t as v,g as H,j as a,as as M,G as E,Q as ee,v as L,k as K,l as le,i as Y,ar as re,e as J,_ as de,m as ce,n as pe,q as be,S as ve,p as fe,z as me,W as _e}from"./index.cf42fdb7.js";import{_ as Z}from"./CardBoxModal.293300a9.js";import{_ as ge}from"./NotificationBar.92bb6639.js";import{_ as O}from"./FormField.fc61414c.js";import{_ as I}from"./FormControl.44c64591.js";import{u as ae}from"./groups.4af2f32e.js";import{u as te}from"./students.744adf24.js";import{u as se}from"./users.2cbc3e24.js";import{s as ie,a as ue}from"./settings_data.af95b34a.js";import{u as he}from"./course.e5eca672.js";import{u as ye}from"./milestoneone.539d72ff.js";import{u as ke}from"./milestonetwo.f2cd758a.js";const xe={class:"flex justify-center"},we={key:0,class:"bg-white rounded-lg w-96 text-gray-900"},$e={key:1,class:"p-1 bg-lime-300 text-white text-sm rounded font-semibold"},Ce={key:1,class:"bg-white rounded-lg w-96 text-gray-900"},qe={key:1,class:"p-1 bg-lime-300 text-white text-sm rounded font-semibold"},Ve={key:2,class:"bg-white rounded-lg w-96 text-gray-900"},Se={key:1,class:"p-1 bg-lime-300 text-white text-sm rounded font-semibold"},Ue=o("h4",{class:"text-center"}," Click Delete to remove from list... ",-1),Oe={class:"space-y-3"},Ie={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Te={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ae={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},je={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Me={class:"flex justify-center"},Pe={class:"bg-white rounded-lg w-96 text-gray-900"},De={class:"flex justify-center"},Ge={class:"bg-white rounded-lg w-96 text-gray-900"},Ee={class:"flex justify-center"},He={class:"bg-white rounded-lg w-96 text-gray-900"},Be={__name:"Create",props:{courses:{type:Array,default:[]},milestoneOne:{type:Array,default:[]},milestoneTwo:{type:Array,default:[]}},emits:["back","groupCreate"],setup(X,{emit:D}){const S=X,t=ae(),b=te(),r=se(),C=k(!1),m=k(""),q=k(""),T=k(""),A=k(!1),y=k(null),B=ne("Loader"),Q=P(()=>{const s=[];return S.courses.forEach(l=>{s.push({id:l.id,label:l.course.toUpperCase()})}),s}),W=P(()=>{const s=[];return S.milestoneOne.forEach(l=>{s.push({id:l.id,label:l.milestone.toUpperCase()})}),s}),x=P(()=>{const s=[];return S.milestoneTwo.forEach(l=>{s.push({id:l.id,label:l.milestone.toUpperCase()})}),s}),U=P(()=>ie.filter(s=>s.id>=9)),d=()=>{D("back",!1)},f=()=>{B.show(),t.create().then(s=>{B.hide(),s.member_registered.forEach(l=>{const e=b.available.indexOf(b.available.find(c=>c.id==l.id));console.log(e),b.available.splice(e,1)}),r.refreshAvailability(),D("groupCreate",{status:!0,list:s.data.groups})}).catch(()=>{B.hide(),D("groupCreate",{status:!1})})},g=s=>{m.value=s,q.value="Add "+s,C.value=!0,T.value=""},V=(s,l)=>{switch(l){case"member":b.available[s].available=!1,b.available[s].is_create=!0;const e=b.available[s];t.request.member.push(e);break;case"adviser":r.adviser_available[s].is_create=!0;const c=r.adviser_available[s];t.request.adviser.push(c),r.adviser_available[s].available=!1;const _=r.panel_available.indexOf(r.panel_available.find(j=>j.id==c.id));_>=0&&(r.panel_available[_].available=!1);break;default:r.panel_available[s].is_create=!0;const N=r.panel_available[s];t.request.panel.push(N),r.panel_available[s].available=!1;const F=r.adviser_available.indexOf(r.adviser_available.find(j=>j.id==N.id));F>=0&&(r.adviser_available[F].available=!1);break}},$=(s,l)=>{y.value=s,m.value=l,A.value=!0},R=()=>{switch(m.value){case"member":const s=t.request.member[y.value].id,l=b.available.indexOf(b.available.find(G=>G.id==s));b.available[l].available=!0,t.request.member.splice(y.value,1);break;case"adviser":const e=t.request.adviser[y.value].id,c=r.adviser_available.indexOf(r.adviser_available.find(G=>G.id==e)),_=r.panel_available.indexOf(r.panel_available.find(G=>G.id==e));c>=0&&(r.adviser_available[c].available=!0),_>=0&&(r.panel_available[_].available=!0),t.request.adviser.splice(y.value,1);break;default:const N=t.request.panel[y.value].id,F=r.adviser_available.indexOf(r.adviser_available.find(G=>G.id==N)),j=r.panel_available.indexOf(r.panel_available.find(G=>G.id==N));F>=0&&(r.adviser_available[F].available=!0),j>=0&&(r.panel_available[j].available=!0),t.request.panel.splice(y.value,1);break}m.value=="member"||m.value=="adviser"};return(s,l)=>(n(),u(h,null,[i(Z,{modelValue:C.value,"onUpdate:modelValue":l[0]||(l[0]=e=>C.value=e),"large-title":q.value,buttonLabel:"Close"},{default:p(()=>[o("div",xe,[m.value=="member"?(n(),u("ul",we,[(n(!0),u(h,null,w(a(b).available,(e,c)=>(n(),u("li",{key:e.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[o("p",null,v(e.fullname),1),e.available?(n(),H(E,{key:0,path:a(M),class:"cursor-pointer mr-3",onClick:_=>V(c,"member")},null,8,["path","onClick"])):(n(),u("div",$e,"Added"))]))),128))])):m.value=="adviser"?(n(),u("ul",Ce,[(n(!0),u(h,null,w(a(r).adviser_available,(e,c)=>(n(),u("li",{key:e.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[o("p",null,v(e.fullname),1),e.available?(n(),H(E,{key:0,path:a(M),class:"cursor-pointer mr-3",onClick:_=>V(c,"adviser")},null,8,["path","onClick"])):(n(),u("div",qe,"Added"))]))),128))])):(n(),u("ul",Ve,[(n(!0),u(h,null,w(a(r).panel_available,(e,c)=>(n(),u("li",{key:e.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[o("p",null,v(e.fullname),1),e.available?(n(),H(E,{key:0,path:a(M),class:"cursor-pointer mr-3",onClick:_=>V(c,"panel")},null,8,["path","onClick"])):(n(),u("div",Se,"Added"))]))),128))]))])]),_:1},8,["modelValue","large-title"]),i(Z,{modelValue:A.value,"onUpdate:modelValue":l[1]||(l[1]=e=>A.value=e),"large-title":"Delete entry...",button:"warning",buttonLabel:"Delete",onConfirm:l[2]||(l[2]=e=>R())},{default:p(()=>[Ue]),_:1},8,["modelValue"]),i(L,{title:"Create New Group",form:!0,headerIcon:a(re),onHeaderIconClick:l[14]||(l[14]=e=>d())},{default:p(()=>[o("div",Oe,[i(O,{label:"Research Title"},{default:p(()=>[i(I,{modelValue:a(t).request.title,"onUpdate:modelValue":l[3]||(l[3]=e=>a(t).request.title=e)},null,8,["modelValue"])]),_:1}),i(O,{label:"Groupname"},{default:p(()=>[i(I,{modelValue:a(t).request.groupname,"onUpdate:modelValue":l[4]||(l[4]=e=>a(t).request.groupname=e)},null,8,["modelValue"])]),_:1}),o("div",Ie,[i(O,{label:"Course"},{default:p(()=>[i(I,{modelValue:a(t).request.course,"onUpdate:modelValue":l[5]||(l[5]=e=>a(t).request.course=e),options:a(Q)},null,8,["modelValue","options"])]),_:1}),i(O,{label:"Type"},{default:p(()=>[i(I,{modelValue:a(t).request.type,"onUpdate:modelValue":l[6]||(l[6]=e=>a(t).request.type=e),options:a(ue)},null,8,["modelValue","options"])]),_:1})]),o("div",Te,[i(O,{label:"Milestone"},{default:p(()=>[i(I,{modelValue:a(t).request.milestone,"onUpdate:modelValue":l[7]||(l[7]=e=>a(t).request.milestone=e),options:a(t).request.type==1||a(t).request.type==""?a(W):a(x)},null,8,["modelValue","options"])]),_:1}),i(O,{label:"Progress",help:"Overall Percent Progress. 0% to 100%"},{default:p(()=>[i(I,{modelValue:a(t).request.progress,"onUpdate:modelValue":l[8]||(l[8]=e=>a(t).request.progress=e)},null,8,["modelValue"])]),_:1})]),o("div",Ae,[i(O,{label:"Status"},{default:p(()=>[i(I,{modelValue:a(t).request.status,"onUpdate:modelValue":l[9]||(l[9]=e=>a(t).request.status=e),options:a(U)},null,8,["modelValue","options"])]),_:1})]),i(ee),o("div",je,[o("div",null,[i(L,{title:"Members",headerIcon:a(M),onHeaderIconClick:l[10]||(l[10]=e=>g("member"))},{default:p(()=>[o("div",Me,[o("ul",Pe,[(n(!0),u(h,null,w(a(t).request.member,(e,c)=>(n(),u("li",{key:e.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[o("p",null,v(e.fullname),1),i(E,{path:a(K),class:"cursor-pointer mr-3",onClick:_=>$(c,"member")},null,8,["path","onClick"])]))),128))])])]),_:1},8,["headerIcon"])]),o("div",null,[i(L,{title:"Adviser(s)",headerIcon:a(M),onHeaderIconClick:l[11]||(l[11]=e=>g("adviser"))},{default:p(()=>[o("div",De,[o("ul",Ge,[(n(!0),u(h,null,w(a(t).request.adviser,(e,c)=>(n(),u("li",{key:e.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[o("p",null,v(e.fullname),1),i(E,{path:a(K),class:"cursor-pointer mr-3",onClick:_=>$(c,"adviser")},null,8,["path","onClick"])]))),128))])])]),_:1},8,["headerIcon"])]),o("div",null,[i(L,{title:"Panel(s)",headerIcon:a(M),onHeaderIconClick:l[12]||(l[12]=e=>g("panel"))},{default:p(()=>[o("div",Ee,[o("ul",He,[(n(!0),u(h,null,w(a(t).request.panel,(e,c)=>(n(),u("li",{key:e.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[o("p",null,v(e.fullname),1),i(E,{path:a(K),class:"cursor-pointer mr-3",onClick:_=>$(c,"panel")},null,8,["path","onClick"])]))),128))])])]),_:1},8,["headerIcon"])])])]),i(ee),i(le,null,{default:p(()=>[i(Y,{label:"Create",color:"info",onClick:l[13]||(l[13]=e=>f())})]),_:1})]),_:1},8,["headerIcon"])],64))}},Ne={class:"flex justify-center"},Fe={key:0,class:"bg-white rounded-lg w-96 text-gray-900"},Re={key:1,class:"p-1 bg-lime-300 text-white text-sm rounded font-semibold"},ze={key:1,class:"bg-white rounded-lg w-96 text-gray-900"},Le={key:1,class:"p-1 bg-lime-300 text-white text-sm rounded font-semibold"},Qe={key:2,class:"bg-white rounded-lg w-96 text-gray-900"},We={key:1,class:"p-1 bg-lime-300 text-white text-sm rounded font-semibold"},Je=o("h4",{class:"text-center"}," Click Delete to remove from list... ",-1),Ke={class:"space-y-3"},Xe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ye={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ze={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},el={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ll={class:"flex justify-center"},al={class:"bg-white rounded-lg w-96 text-gray-900"},tl={class:"flex justify-center"},sl={class:"bg-white rounded-lg w-96 text-gray-900"},ol={class:"flex justify-center"},nl={class:"bg-white rounded-lg w-96 text-gray-900"},rl={__name:"Update",props:{courses:{type:Array,default:[]},milestoneOne:{type:Array,default:[]},milestoneTwo:{type:Array,default:[]}},emits:["back","groupUpdate"],setup(X,{emit:D}){const S=X,t=ae(),b=te(),r=se(),C=k(!1),m=k(""),q=k(""),T=k(""),A=k(!1),y=k(null),B=ne("Loader"),Q=P(()=>{const s=[];return S.courses.forEach(l=>{s.push({id:l.id,label:l.course.toUpperCase()})}),s}),W=P(()=>{const s=[];return S.milestoneOne.forEach(l=>{s.push({id:l.id,label:l.milestone.toUpperCase()})}),s}),x=P(()=>{const s=[];return S.milestoneTwo.forEach(l=>{s.push({id:l.id,label:l.milestone.toUpperCase()})}),s}),U=P(()=>ie.filter(s=>s.id>=9)),d=()=>{D("back",!1)},f=()=>{B.show(),t.update().then(s=>{B.hide(),console.log(s),s.member_registered.forEach(l=>{const e=b.available.indexOf(b.available.find(c=>c.id==l.id));b.available.splice(e,1)}),r.refreshAvailability(),D("groupUpdate",{status:!0,list:s.data.groups})}).catch(()=>{B.hide(),D("groupUpdate",{status:!1})})},g=s=>{m.value=s,q.value="Add "+s,C.value=!0,T.value=""},V=(s,l)=>{switch(l){case"member":b.available[s].available=!1,b.available[s].is_create=!0;const e=b.available[s];t.request.member.push(e);break;case"adviser":r.adviser_available[s].is_create=!0;const c=r.adviser_available[s];t.request.adviser.push(c),r.adviser_available[s].available=!1;const _=r.panel_available.indexOf(r.panel_available.find(j=>j.id==c.id));_>=0&&(r.panel_available[_].available=!1);break;default:r.panel_available[s].is_create=!0;const N=r.panel_available[s];t.request.panel.push(N),r.panel_available[s].available=!1;const F=r.adviser_available.indexOf(r.adviser_available.find(j=>j.id==N.id));F>=0&&(r.adviser_available[F].available=!1);break}},$=(s,l)=>{y.value=s,m.value=l,A.value=!0},R=()=>{switch(m.value){case"member":const s=t.request.member[y.value].id,l=b.available.indexOf(b.available.find(z=>z.id==s));b.available[l].available=!0,t.request.member.splice(y.value,1),t.destroy_personnel(s,"groupmembers");break;case"adviser":const e=t.request.adviser[y.value].parent_id,c=t.request.adviser[y.value].id,_=r.adviser_available.indexOf(r.adviser_available.find(z=>z.id==c)),N=r.panel_available.indexOf(r.panel_available.find(z=>z.id==c));_>=0&&(r.adviser_available[_].available=!0),N>=0&&(r.panel_available[N].available=!0),t.request.adviser.splice(y.value,1),e!=null&&t.destroy_personnel(e,"groupadvisers");break;default:const F=t.request.panel[y.value].parent_id,j=t.request.panel[y.value].id,G=r.adviser_available.indexOf(r.adviser_available.find(z=>z.id==j)),oe=r.panel_available.indexOf(r.panel_available.find(z=>z.id==j));G>=0&&(r.adviser_available[G].available=!0),oe>=0&&(r.panel_available[oe].available=!0),t.request.panel.splice(y.value,1),F!=null&&t.destroy_personnel(F,"grouppanels");break}m.value=="member"||m.value=="adviser"};return(s,l)=>(n(),u(h,null,[i(Z,{modelValue:C.value,"onUpdate:modelValue":l[0]||(l[0]=e=>C.value=e),"large-title":q.value,buttonLabel:"Close"},{default:p(()=>[o("div",Ne,[m.value=="member"?(n(),u("ul",Fe,[(n(!0),u(h,null,w(a(b).available,(e,c)=>(n(),u("li",{key:e.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[o("p",null,v(e.fullname),1),e.available?(n(),H(E,{key:0,path:a(M),class:"cursor-pointer mr-3",onClick:_=>V(c,"member")},null,8,["path","onClick"])):(n(),u("div",Re,"Added"))]))),128))])):m.value=="adviser"?(n(),u("ul",ze,[(n(!0),u(h,null,w(a(r).adviser_available,(e,c)=>(n(),u("li",{key:e.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[o("p",null,v(e.fullname),1),e.available?(n(),H(E,{key:0,path:a(M),class:"cursor-pointer mr-3",onClick:_=>V(c,"adviser")},null,8,["path","onClick"])):(n(),u("div",Le,"Added"))]))),128))])):(n(),u("ul",Qe,[(n(!0),u(h,null,w(a(r).panel_available,(e,c)=>(n(),u("li",{key:e.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[o("p",null,v(e.fullname),1),e.available?(n(),H(E,{key:0,path:a(M),class:"cursor-pointer mr-3",onClick:_=>V(c,"panel")},null,8,["path","onClick"])):(n(),u("div",We,"Added"))]))),128))]))])]),_:1},8,["modelValue","large-title"]),i(Z,{modelValue:A.value,"onUpdate:modelValue":l[1]||(l[1]=e=>A.value=e),"large-title":"Delete entry...",button:"warning",buttonLabel:"Delete",onConfirm:l[2]||(l[2]=e=>R())},{default:p(()=>[Je]),_:1},8,["modelValue"]),i(L,{title:"Update Group",form:!0,headerIcon:a(re),onHeaderIconClick:l[14]||(l[14]=e=>d())},{default:p(()=>[o("div",Ke,[i(O,{label:"Research Title"},{default:p(()=>[i(I,{modelValue:a(t).request.title,"onUpdate:modelValue":l[3]||(l[3]=e=>a(t).request.title=e)},null,8,["modelValue"])]),_:1}),i(O,{label:"Groupname"},{default:p(()=>[i(I,{modelValue:a(t).request.groupname,"onUpdate:modelValue":l[4]||(l[4]=e=>a(t).request.groupname=e)},null,8,["modelValue"])]),_:1}),o("div",Xe,[i(O,{label:"Course"},{default:p(()=>[i(I,{modelValue:a(t).request.course,"onUpdate:modelValue":l[5]||(l[5]=e=>a(t).request.course=e),options:a(Q)},null,8,["modelValue","options"])]),_:1}),i(O,{label:"Type"},{default:p(()=>[i(I,{modelValue:a(t).request.type,"onUpdate:modelValue":l[6]||(l[6]=e=>a(t).request.type=e),options:a(ue)},null,8,["modelValue","options"])]),_:1})]),o("div",Ye,[i(O,{label:"Milestone"},{default:p(()=>[i(I,{modelValue:a(t).request.milestone,"onUpdate:modelValue":l[7]||(l[7]=e=>a(t).request.milestone=e),options:a(t).request.type==1||a(t).request.type==""?a(W):a(x)},null,8,["modelValue","options"])]),_:1}),i(O,{label:"Progress",help:"Overall Percent Progress. 0% to 100%"},{default:p(()=>[i(I,{modelValue:a(t).request.progress,"onUpdate:modelValue":l[8]||(l[8]=e=>a(t).request.progress=e)},null,8,["modelValue"])]),_:1})]),o("div",Ze,[i(O,{label:"Status"},{default:p(()=>[i(I,{modelValue:a(t).request.status,"onUpdate:modelValue":l[9]||(l[9]=e=>a(t).request.status=e),options:a(U)},null,8,["modelValue","options"])]),_:1})]),i(ee),o("div",el,[o("div",null,[i(L,{title:"Members",headerIcon:a(M),onHeaderIconClick:l[10]||(l[10]=e=>g("member"))},{default:p(()=>[o("div",ll,[o("ul",al,[(n(!0),u(h,null,w(a(t).request.member,(e,c)=>(n(),u("li",{key:e.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[o("p",null,v(e.fullname),1),i(E,{path:a(K),class:"cursor-pointer mr-3",onClick:_=>$(c,"member")},null,8,["path","onClick"])]))),128))])])]),_:1},8,["headerIcon"])]),o("div",null,[i(L,{title:"Adviser(s)",headerIcon:a(M),onHeaderIconClick:l[11]||(l[11]=e=>g("adviser"))},{default:p(()=>[o("div",tl,[o("ul",sl,[(n(!0),u(h,null,w(a(t).request.adviser,(e,c)=>(n(),u("li",{key:e.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[o("p",null,v(e.fullname),1),i(E,{path:a(K),class:"cursor-pointer mr-3",onClick:_=>$(c,"adviser")},null,8,["path","onClick"])]))),128))])])]),_:1},8,["headerIcon"])]),o("div",null,[i(L,{title:"Panel(s)",headerIcon:a(M),onHeaderIconClick:l[12]||(l[12]=e=>g("panel"))},{default:p(()=>[o("div",ol,[o("ul",nl,[(n(!0),u(h,null,w(a(t).request.panel,(e,c)=>(n(),u("li",{key:e.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[o("p",null,v(e.fullname),1),i(E,{path:a(K),class:"cursor-pointer mr-3",onClick:_=>$(c,"panel")},null,8,["path","onClick"])]))),128))])])]),_:1},8,["headerIcon"])])])]),i(ee),i(le,null,{default:p(()=>[i(Y,{label:"Update",color:"info",onClick:l[13]||(l[13]=e=>f())})]),_:1})]),_:1},8,["headerIcon"])],64))}},il={key:0,class:"p-3 bg-gray-100/50 dark:bg-gray-800"},ul={key:0},dl=o("th",null,"Title",-1),cl=o("th",null,"Groupname",-1),pl=o("th",null,"Course",-1),bl=o("th",null,"Type",-1),vl=o("th",null,"Milestone",-1),fl=o("th",null,"Progress",-1),ml=o("th",null,"Members",-1),_l=o("th",null,"Adviser(s)",-1),gl=o("th",null,"Panels",-1),hl=o("th",null,"Status",-1),yl=o("th",null,null,-1),kl={"data-label":"Title"},xl={"data-label":"Groupname"},wl={"data-label":"Course"},$l={"data-label":"Type"},Cl={"data-label":"Milestone"},ql={key:0},Vl={key:1},Sl={"data-label":"Progress"},Ul={key:0},Ol={key:1},Il={"data-label":"Members"},Tl={"data-label":"Adviser(s)"},Al={"data-label":"Panels"},jl={"data-label":"Status"},Ml={key:0,class:"p-1 bg-lime-400 text-white text-sm rounded font-semibold"},Pl={key:1,class:"p-1 bg-red-400 text-white text-sm rounded font-semibold"},Dl={class:"before:hidden lg:w-1 whitespace-nowrap"},Gl={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-gray-800"},El={__name:"Table",props:{data:{type:Array,default:[]},checkable:Boolean},emits:["select-group","destroy-group"],setup(X,{emit:D}){const S=X,t=P(()=>S.data);k(!1);const b=k(10),r=k(0),C=k([]),m=P(()=>t.value.slice(b.value*r.value,b.value*(r.value+1))),q=P(()=>Math.ceil(t.value.length/b.value)),T=P(()=>r.value+1),A=P(()=>{const x=[];for(let U=0;U<q.value;U++)x.push(U);return x}),y=x=>{D("select-group",x)},B=x=>{D("destroy-group",x)},Q=(x,U)=>{const d=[];return x.forEach(f=>{U(f)||d.push(f)}),d},W=(x,U)=>{x?C.value.push(U):C.value=Q(C.value,d=>d.id===U.id)};return(x,U)=>(n(),u(h,null,[C.value.length?(n(),u("div",il,[(n(!0),u(h,null,w(C.value,d=>(n(),u("span",{key:d.id,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm bg-gray-100 dark:bg-gray-700"},v(d.name),1))),128))])):J("",!0),o("table",null,[o("thead",null,[o("tr",null,[S.checkable?(n(),u("th",ul)):J("",!0),dl,cl,pl,bl,vl,fl,ml,_l,gl,hl,yl])]),o("tbody",null,[(n(!0),u(h,null,w(a(m),d=>(n(),u("tr",{key:d.id},[S.checkable?(n(),H(de,{key:0,onChecked:f=>W(f,d)},null,8,["onChecked"])):J("",!0),o("td",kl,v(d.title),1),o("td",xl,v(d.groupname),1),o("td",wl,v(d.course.course.toUpperCase()),1),o("td",$l,v(d.grouptype.type),1),o("td",Cl,[d.type_id==1?(n(),u("span",ql,v(d.onemilestone!=null?d.onemilestone.milestone:""),1)):(n(),u("span",Vl,v(d.twomilestone!=null?d.twomilestone.milestone:""),1))]),o("td",Sl,[d.type_id==1?(n(),u("span",Ul,v(`${d.progress_one}%`),1)):(n(),u("span",Ol,v(`${d.progress_two}%`),1))]),o("td",Il,[(n(!0),u(h,null,w(d.member,f=>(n(),u("span",{key:f.id,class:"bg-blue-100 text-blue-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-blue-200 dark:text-blue-800"},v(`${f.user.firstname} ${f.user.middlename} ${f.user.lastname}`),1))),128))]),o("td",Tl,[(n(!0),u(h,null,w(d.adviser,f=>(n(),u("span",{key:f.id,class:"bg-blue-100 text-blue-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-blue-200 dark:text-blue-800"},v(`${f.user.firstname} ${f.user.middlename} ${f.user.lastname}`),1))),128))]),o("td",Al,[(n(!0),u(h,null,w(d.panel,f=>(n(),u("span",{key:f.id,class:"bg-blue-100 text-blue-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-blue-200 dark:text-blue-800"},v(`${f.user.firstname} ${f.user.middlename} ${f.user.lastname}`),1))),128))]),o("td",jl,[d.status_id==9?(n(),u("span",Ml,v(d.status.status),1)):(n(),u("span",Pl,v(d.status.status),1))]),o("td",Dl,[i(le,{type:"justify-start lg:justify-end","no-wrap":""},{default:p(()=>[i(Y,{color:"info",icon:a(ce),small:"",onClick:f=>y(d)},null,8,["icon","onClick"]),i(Y,{color:"danger",icon:a(K),small:"",onClick:f=>B(d)},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])]),o("div",Gl,[i(pe,null,{default:p(()=>[i(le,null,{default:p(()=>[(n(!0),u(h,null,w(a(A),d=>(n(),H(Y,{key:d,active:d===r.value,label:d+1,small:"",onClick:f=>r.value=d},null,8,["active","label","onClick"]))),128))]),_:1}),o("small",null,"Page "+v(a(T))+" of "+v(a(q)),1)]),_:1})])],64))}},Yl={__name:"Groups",setup(X){const D=k(["Admin","General","Groups"]),S=he(),t=ae(),b=ye(),r=ke(),C=te(),m=se(),q=k(!1),T=k(!1);k(!1);const A=k(!1),y=()=>{t.status.status=!0};S.fetch(),t.fetch(),b.fetch(),r.fetch(),C.fetchAvailable(),m.fetchAvailable();const B=()=>{q.value=!0,T.value=!1},Q=g=>{g.status&&(q.value=!1,T.value=!1)},W=g=>{g.status&&(t.list=g.list,q.value=!1,T.value=!1)},x=()=>{q.value=!1,T.value=!1,t.clear()},U=g=>{T.value=!0,q.value=!1,t.select(g),d(t.request.adviser,"adviser"),d(t.request.panel,"panel"),d(t.request.member,"member")},d=(g,V)=>{switch(V){case"adviser":g.forEach($=>{const R=m.adviser_available.find(s=>s.id==$.id);if(R!=null){const s=m.adviser_available.indexOf(R);m.adviser_available[s].available=!1}});break;case"panel":g.forEach($=>{const R=m.panel_available.find(s=>s.id==$.id);if(R!=null){const s=m.panel_available.indexOf(R);m.panel_available[s].available=!1}});break;default:g.forEach($=>{C.available.push($)});break}},f=g=>{A.value=!0,t.select(g)};return(g,V)=>(n(),u(h,null,[i(Z,{modelValue:A.value,"onUpdate:modelValue":V[0]||(V[0]=$=>A.value=$),"large-title":"Delete Milestone",button:"danger",buttonLabel:"Confirm",onConfirm:V[1]||(V[1]=$=>g.milestoneStore.destroy()),"has-cancel":""},null,8,["modelValue"]),i(be,{"title-stack":D.value},null,8,["title-stack"]),i(ve,null,{default:p(()=>[a(t).status.status?J("",!0):(n(),H(ge,{key:0,isDismissed:a(t).status.status,color:a(t).status.success?"success":"danger",icon:a(me),onHideNotification:y},{default:p(()=>[fe(v(a(t).status.message),1)]),_:1},8,["isDismissed","color","icon"])),q.value?(n(),H(Be,{key:1,courses:a(S).list,milestoneOne:a(b).list,milestoneTwo:a(r).list,onBack:x,onGroupCreate:Q},null,8,["courses","milestoneOne","milestoneTwo"])):J("",!0),T.value?(n(),H(rl,{key:2,courses:a(S).list,milestoneOne:a(b).list,milestoneTwo:a(r).list,onBack:x,onGroupUpdate:W},null,8,["courses","milestoneOne","milestoneTwo"])):J("",!0),!q.value&&!T.value?(n(),H(L,{key:3,title:"Groups List",hasTable:!0,icon:a(_e),headerIcon:a(M),onHeaderIconClick:V[2]||(V[2]=$=>B())},{default:p(()=>[i(El,{data:a(t).list,onSelectGroup:U,onDestroyGroup:f},null,8,["data"])]),_:1},8,["icon","headerIcon"])):J("",!0)]),_:1})],64))}};export{Yl as default};
