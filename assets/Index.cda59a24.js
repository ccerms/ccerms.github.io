import{V as G,r as u,A as D,o as i,k as g,a,w as r,b as l,u as d,f as P,aa as j,F as U,L as I,t as L,E as J,a8 as F,v as K,x as E,y as T,a5 as Q,B as M,c as B,a6 as W,a7 as X,e as Y,l as Z,S as ee,a9 as le}from"./index.02e3cb5b.js";import{_ as H}from"./CardBoxModal.1a333cdf.js";import{_ as A}from"./FormField.7710561b.js";import{_ as x}from"./FormControl.dbc7ef08.js";import{c as k}from"./alert.93440aee.js";import{u as z}from"./minute.0c15376a.js";import"./settings_data.619c00ae.js";const te=l("h4",{class:"text-center"}," Click Delete to remove from list... ",-1),ae={class:"space-y-3"},ne={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},se=l("hr",null,null,-1),oe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ue={class:"flex align-center"},re=l("thead",null,[l("tr",null,[l("th",null,"Label"),l("th",null,"Order"),l("th",null,"Action")])],-1),de={__name:"Create",props:{teachers:{type:Array,default:[]},groups:{type:Array,default:[]},scheduleTypes:{type:Array,default:[]}},emits:["back","minuteCreate"],setup(O,{emit:C}){const s=z(),m=G(),c=u(!1),p=u(""),h=u(""),_=u(""),f=u(""),$=u(!1),V=u(null),q=D(()=>s.request.list.sort((n,e)=>n.label_order-e.label_order)),v=()=>{C("back",!1)},w=()=>{m.showLoading=!0,s.create().then(n=>{k("success","Successfully created!"),C("minuteCreate",{status:!0,list:n.data.minutes}),m.showLoading=!1}).catch(()=>{k("warning","Check field required !"),C("minuteCreate",{status:!1}),m.showLoading=!1})},S=n=>{p.value=n,h.value="Add "+n,c.value=!0,_.value="",f.value=""},b=()=>{let n=s.request.list.find(e=>e.label_order==f.value);if(_.value=="")return k("warning","Label field required !"),!0;if(f.value=="")return k("warning","Label order field required !"),!0;if(n!=null)return k("warning","Label order already set!"),!0;s.request.list.push({id:null,label:_.value,label_order:f.value}),k("success","Successfully added!")},y=(n,e)=>{V.value=s.request.list.indexOf(n),p.value=e,$.value=!0},o=()=>{s.request.list.splice(V.value,1)};return(n,e)=>(i(),g(U,null,[a(H,{modelValue:c.value,"onUpdate:modelValue":e[2]||(e[2]=t=>c.value=t),"large-title":h.value,button:"success",buttonLabel:"Add    ",onConfirm:e[3]||(e[3]=t=>b())},{default:r(()=>[a(A,{label:"Label"},{default:r(()=>[a(x,{modelValue:_.value,"onUpdate:modelValue":e[0]||(e[0]=t=>_.value=t)},null,8,["modelValue"])]),_:1}),a(A,{label:"Order Label"},{default:r(()=>[a(x,{modelValue:f.value,"onUpdate:modelValue":e[1]||(e[1]=t=>f.value=t),type:"number"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue","large-title"]),a(H,{modelValue:$.value,"onUpdate:modelValue":e[4]||(e[4]=t=>$.value=t),"large-title":"Delete entry...",button:"warning",buttonLabel:"Delete",onConfirm:e[5]||(e[5]=t=>o())},{default:r(()=>[te]),_:1},8,["modelValue"]),a(P,{title:"Create Minute",form:!0,headerIcon:d(Q),onHeaderIconClick:e[9]||(e[9]=t=>v())},{default:r(()=>[l("div",ae,[l("div",ne,[a(A,{label:"Title"},{default:r(()=>[a(x,{modelValue:d(s).request.title,"onUpdate:modelValue":e[6]||(e[6]=t=>d(s).request.title=t)},null,8,["modelValue"])]),_:1})]),se,l("div",oe,[l("div",null,[a(P,{title:"Comments and Suggestions Label",headerIcon:d(j),onHeaderIconClick:e[7]||(e[7]=t=>S("Comments and Suggestions Label"))},{default:r(()=>[l("div",ue,[l("table",null,[re,l("tbody",null,[(i(!0),g(U,null,I(d(q),(t,N)=>(i(),g("tr",{key:N},[l("td",null,L(t.label),1),l("td",null,L(t.label_order),1),l("td",null,[a(J,{path:d(F),class:"cursor-pointer mr-3",onClick:R=>y(t,"member")},null,8,["path","onClick"])])]))),128))])])])]),_:1},8,["headerIcon"])])])]),a(K),a(E,null,{default:r(()=>[a(T,{label:"Create",color:"info",onClick:e[8]||(e[8]=t=>w())})]),_:1})]),_:1},8,["headerIcon"])],64))}},ie=l("h4",{class:"text-center"}," Click Delete to remove from list... ",-1),ce={class:"space-y-3"},me={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},fe=l("hr",null,null,-1),ve={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},pe={class:"flex align-center"},_e=l("thead",null,[l("tr",null,[l("th",null,"Label"),l("th",null,"Order"),l("th",null,"Action")])],-1),be={__name:"Update",props:{teachers:{type:Array,default:[]},groups:{type:Array,default:[]},scheduleTypes:{type:Array,default:[]}},emits:["back","minuteUpdate"],setup(O,{emit:C}){const s=z(),m=G(),c=u(!1),p=u(""),h=u(""),_=u(""),f=u(""),$=u(!1),V=u(null),q=D(()=>s.request.list.sort((n,e)=>n.label_order-e.label_order)),v=()=>{C("back",!1)},w=()=>{m.showLoading=!0,s.update().then(n=>{k("success","Successfully updated!"),C("minuteUpdate",{status:!0,list:n.data.minutes}),m.showLoading=!1}).catch(()=>{k("warning","Check field required !"),C("minuteUpdate",{status:!1}),m.showLoading=!1})},S=n=>{p.value=n,h.value="Add "+n,c.value=!0,_.value="",f.value=""},b=()=>{let n=s.request.list.find(e=>e.label_order==f.value);if(_.value=="")return k("warning","Label field required !"),!0;if(f.value=="")return k("warning","Label order field required !"),!0;if(n!=null)return k("warning","Label order already set!"),!0;s.request.list.push({id:null,label:_.value,label_order:f.value})},y=(n,e)=>{V.value=s.request.list.indexOf(n),p.value=e,$.value=!0},o=()=>{let n=s.request.list[V.value];s.request.list.splice(V.value,1),s.destroy(n.id).then(e=>{k("success","Successfully deleted!")}).catch(()=>{k("warning","Check field required !")})};return(n,e)=>(i(),g(U,null,[a(H,{modelValue:c.value,"onUpdate:modelValue":e[2]||(e[2]=t=>c.value=t),"large-title":h.value,button:"success",buttonLabel:"Add    ",onConfirm:e[3]||(e[3]=t=>b())},{default:r(()=>[a(A,{label:"Label"},{default:r(()=>[a(x,{modelValue:_.value,"onUpdate:modelValue":e[0]||(e[0]=t=>_.value=t)},null,8,["modelValue"])]),_:1}),a(A,{label:"Order Label"},{default:r(()=>[a(x,{modelValue:f.value,"onUpdate:modelValue":e[1]||(e[1]=t=>f.value=t),type:"number"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue","large-title"]),a(H,{modelValue:$.value,"onUpdate:modelValue":e[4]||(e[4]=t=>$.value=t),"large-title":"Delete entry...",button:"warning",buttonLabel:"Delete",onConfirm:e[5]||(e[5]=t=>o())},{default:r(()=>[ie]),_:1},8,["modelValue"]),a(P,{title:"Update Minute",form:!0,headerIcon:d(Q),onHeaderIconClick:e[9]||(e[9]=t=>v())},{default:r(()=>[l("div",ce,[l("div",me,[a(A,{label:"Title"},{default:r(()=>[a(x,{modelValue:d(s).request.title,"onUpdate:modelValue":e[6]||(e[6]=t=>d(s).request.title=t)},null,8,["modelValue"])]),_:1})]),fe,l("div",ve,[l("div",null,[a(P,{title:"Comments and Suggestions Label",headerIcon:d(j),onHeaderIconClick:e[7]||(e[7]=t=>S("Comments and Suggestions Label"))},{default:r(()=>[l("div",pe,[l("table",null,[_e,l("tbody",null,[(i(!0),g(U,null,I(d(q),(t,N)=>(i(),g("tr",{key:N},[l("td",null,L(t.label),1),l("td",null,L(t.label_order),1),l("td",null,[a(J,{path:d(F),class:"cursor-pointer mr-3",onClick:R=>y(t,"member")},null,8,["path","onClick"])])]))),128))])])])]),_:1},8,["headerIcon"])])])]),a(K),a(E,null,{default:r(()=>[a(T,{label:"Update",color:"info",onClick:e[8]||(e[8]=t=>w())})]),_:1})]),_:1},8,["headerIcon"])],64))}},ge={key:0,class:"p-3 bg-gray-100/50 dark:bg-gray-800"},he={key:0},ye=l("th",null,"Title",-1),ke=l("th",null,"Datetime Created",-1),Ce=l("th",null,"Datetime Updated",-1),$e=l("th",null,"Actions",-1),we={"data-label":"Title"},Ve={"data-label":"Datetime Created"},Le={"data-label":"Datetime Updated"},Se={class:"before:hidden lg:w-1 whitespace-nowrap"},Ue={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-gray-800"},qe={__name:"Table",props:{data:{type:Array,default:[]},checkable:Boolean},emits:["select-section","destroy-section"],setup(O,{emit:C}){const s=O,m=D(()=>s.data);u(!1);const c=u(10),p=u(0),h=u([]),_=D(()=>m.value.slice(c.value*p.value,c.value*(p.value+1))),f=D(()=>Math.ceil(m.value.length/c.value)),$=D(()=>p.value+1),V=D(()=>{const b=[];for(let y=0;y<f.value;y++)b.push(y);return b}),q=b=>{C("select-section",b)},v=b=>{C("destroy-section",b)},w=(b,y)=>{const o=[];return b.forEach(n=>{y(n)||o.push(n)}),o},S=(b,y)=>{b?h.value.push(y):h.value=w(h.value,o=>o.id===y.id)};return(b,y)=>(i(),g(U,null,[h.value.length?(i(),g("div",ge,[(i(!0),g(U,null,I(h.value,o=>(i(),g("span",{key:o.id,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm bg-gray-100 dark:bg-gray-700"},L(o.name),1))),128))])):M("",!0),l("table",null,[l("thead",null,[l("tr",null,[s.checkable?(i(),g("th",he)):M("",!0),ye,ke,Ce,$e])]),l("tbody",null,[(i(!0),g(U,null,I(d(_),o=>(i(),g("tr",{key:o.id},[s.checkable?(i(),B(W,{key:0,onChecked:n=>S(n,o)},null,8,["onChecked"])):M("",!0),l("td",we,L(o.title),1),l("td",Ve,L(o.created_at),1),l("td",Le,L(o.updated_at),1),l("td",Se,[a(E,{type:"justify-start lg:justify-end","no-wrap":""},{default:r(()=>[a(T,{color:"info",icon:d(X),small:"",onClick:n=>q(o)},null,8,["icon","onClick"]),a(T,{color:"danger",icon:d(F),small:"",onClick:n=>v(o)},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])]),l("div",Ue,[a(Y,null,{default:r(()=>[a(E,null,{default:r(()=>[(i(!0),g(U,null,I(d(V),o=>(i(),B(T,{key:o,active:o===p.value,label:o+1,small:"",onClick:n=>p.value=o},null,8,["active","label","onClick"]))),128))]),_:1}),l("small",null,"Page "+L(d($))+" of "+L(d(f)),1)]),_:1})])],64))}},Pe={__name:"Index",setup(O){const C=u(["Admin","Events","Minute Setup"]),s=z(),m=u(!1),c=u(!1);u(!1);const p=u(!1);s.fetch();const h=()=>{m.value=!0,c.value=!1,s.clear()},_=v=>{v.status&&(s.list=v.list,m.value=!1,c.value=!1)},f=v=>{v.status&&(s.list=v.list,m.value=!1,c.value=!1)},$=()=>{m.value=!1,c.value=!1},V=v=>{c.value=!0,m.value=!1,s.select(v)},q=v=>{p.value=!0,s.select(v)};return(v,w)=>(i(),g(U,null,[a(H,{modelValue:p.value,"onUpdate:modelValue":w[0]||(w[0]=S=>p.value=S),"large-title":"Delete Milestone",button:"danger",buttonLabel:"Confirm",onConfirm:w[1]||(w[1]=S=>v.milestoneStore.destroy()),"has-cancel":""},null,8,["modelValue"]),a(Z,{"title-stack":C.value},null,8,["title-stack"]),a(ee,null,{default:r(()=>[m.value?(i(),B(de,{key:0,onBack:$,onMinuteCreate:_})):M("",!0),c.value?(i(),B(be,{key:1,onBack:$,onMinuteUpdate:f})):M("",!0),!m.value&&!c.value?(i(),B(P,{key:2,title:"Minute Setup List",hasTable:!0,icon:d(le),headerIcon:d(j),onHeaderIconClick:w[2]||(w[2]=S=>h())},{default:r(()=>[a(qe,{data:d(s).list,onSelectSection:V,onDestroySection:q},null,8,["data"])]),_:1},8,["icon","headerIcon"])):M("",!0)]),_:1})],64))}};export{Pe as default};
