import{A as v,r as y,o as d,k as f,F as k,L as x,t as r,B as M,b as n,c as B,a6 as O,a,w as u,y as P,u as o,a7 as I,a8 as N,x as A,e as j,V as H,l as z,S as G,f as J,a9 as K,aa as Q}from"./index.02e3cb5b.js";import{_ as D}from"./CardBoxModal.1a333cdf.js";import{_ as i}from"./FormField.7710561b.js";import{_ as E}from"./FormFilePicker.e281e131.js";import{_ as b}from"./FormControl.dbc7ef08.js";import{c as U}from"./alert.93440aee.js";import{u as R}from"./milestonetwo.129efb8c.js";const W={key:0,class:"p-3 bg-gray-100/50 dark:bg-gray-800"},X={key:0},Y=n("th",null,"Code",-1),Z=n("th",null,"Milestone",-1),ee=n("th",null,"File",-1),le=n("th",null,"Type",-1),te=n("th",null,"Percent",-1),ae=n("th",null,"Order",-1),oe=n("th",null,"Created",-1),se=n("th",null,"Updated",-1),ne=n("th",null,null,-1),ue={"data-label":"Code"},re={"data-label":"Milestone"},de={"data-label":"File"},ie=["href"],ce={"data-label":"Type"},me={"data-label":"Percent"},pe={"data-label":"Order"},_e={"data-label":"Created",class:"lg:w-1 whitespace-nowrap"},fe=["title"],be={"data-label":"Updated",class:"lg:w-1 whitespace-nowrap"},ye=["title"],he={class:"before:hidden lg:w-1 whitespace-nowrap"},Ve={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-gray-800"},ge={__name:"Table",props:{data:{type:Array,default:[]},checkable:Boolean},emits:["select-course","destroy-course"],setup(F,{emit:w}){const t=F,c=v(()=>t.data);y(!1);const h=y(10),m=y(0),p=y([]),C=v(()=>c.value.slice(h.value*m.value,h.value*(m.value+1))),q=v(()=>Math.ceil(c.value.length/h.value)),$=v(()=>m.value+1),T=v(()=>{const e=[];for(let _=0;_<q.value;_++)e.push(_);return e}),L=e=>{w("select-course",e)},S=e=>{w("destroy-course",e)},g=(e,_)=>{const s=[];return e.forEach(V=>{_(V)||s.push(V)}),s},l=(e,_)=>{e?p.value.push(_):p.value=g(p.value,s=>s.id===_.id)};return(e,_)=>(d(),f(k,null,[p.value.length?(d(),f("div",W,[(d(!0),f(k,null,x(p.value,s=>(d(),f("span",{key:s.id,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm bg-gray-100 dark:bg-gray-700"},r(s.name),1))),128))])):M("",!0),n("table",null,[n("thead",null,[n("tr",null,[t.checkable?(d(),f("th",X)):M("",!0),Y,Z,ee,le,te,ae,oe,se,ne])]),n("tbody",null,[(d(!0),f(k,null,x(o(C),s=>(d(),f("tr",{key:s.id},[t.checkable?(d(),B(O,{key:0,onChecked:V=>l(V,s)},null,8,["onChecked"])):M("",!0),n("td",ue,r(s.code),1),n("td",re,r(s.milestone.toUpperCase()),1),n("td",de,[n("a",{href:s.file_url,class:"text-blue-400"},r(s.file),9,ie)]),n("td",ce,r(s.milestone_type==1?"Document Type":"Forms Type"),1),n("td",me,r(s.percent),1),n("td",pe,r(s.ordernumber),1),n("td",_e,[n("small",{class:"text-gray-500 dark:text-gray-400",title:s.created_at},r(s.created_at),9,fe)]),n("td",be,[n("small",{class:"text-gray-500 dark:text-gray-400",title:s.updated_at},r(s.updated_at),9,ye)]),n("td",he,[a(A,{type:"justify-start lg:justify-end","no-wrap":""},{default:u(()=>[a(P,{color:"info",icon:o(I),small:"",onClick:V=>L(s)},null,8,["icon","onClick"]),a(P,{color:"danger",icon:o(N),small:"",onClick:V=>S(s)},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])]),n("div",Ve,[a(j,null,{default:u(()=>[a(A,null,{default:u(()=>[(d(!0),f(k,null,x(o(T),s=>(d(),B(P,{key:s,active:s===m.value,label:s+1,small:"",onClick:V=>m.value=s},null,8,["active","label","onClick"]))),128))]),_:1}),n("small",null,"Page "+r(o($))+" of "+r(o(q)),1)]),_:1})])],64))}},Te={__name:"MilestoneTwo",setup(F){const w=y(["Admin","Settings","Milestone Two"]),t=R(),c=H(),h=y(!1),m=y(!1),p=y(!1);t.fetch();const C=[{id:1,label:"Document Type"},{id:2,label:"Form Type"}],q=()=>{h.value=!0,t.request={id:"",milestone:"",file:[],milestone_type:"",percent:"",ordernumber:""}},$=g=>{m.value=!0,t.select(g)},T=g=>{p.value=!0,t.select(g)},L=()=>{c.showLoading=!0,t.create().then(()=>{U("success","Successfully created!"),c.showLoading=!1}).catch(()=>{U("warning","Check field required!"),c.showLoading=!1})},S=()=>{c.showLoading=!0,t.update().then(()=>{U("success","Successfully updated!"),c.showLoading=!1}).catch(()=>{U("warning","Check field required!"),c.showLoading=!1})};return(g,l)=>(d(),f(k,null,[a(D,{modelValue:h.value,"onUpdate:modelValue":l[5]||(l[5]=e=>h.value=e),"large-title":"Create Milestone",button:"success",buttonLabel:"Create",onConfirm:l[6]||(l[6]=e=>L())},{default:u(()=>[a(i,{label:"Milestone Title"},{default:u(()=>[a(b,{modelValue:o(t).request.milestone,"onUpdate:modelValue":l[0]||(l[0]=e=>o(t).request.milestone=e)},null,8,["modelValue"])]),_:1}),a(i,{label:"Document File"},{default:u(()=>[a(E,{modelValue:o(t).request.file,"onUpdate:modelValue":l[1]||(l[1]=e=>o(t).request.file=e)},null,8,["modelValue"])]),_:1}),a(i,{label:"Type"},{default:u(()=>[a(b,{modelValue:o(t).request.milestone_type,"onUpdate:modelValue":l[2]||(l[2]=e=>o(t).request.milestone_type=e),options:C},null,8,["modelValue"])]),_:1}),a(i,{label:"Percent"},{default:u(()=>[a(b,{modelValue:o(t).request.percent,"onUpdate:modelValue":l[3]||(l[3]=e=>o(t).request.percent=e),type:"number"},null,8,["modelValue"])]),_:1}),a(i,{label:"Order",help:"Enter order number"},{default:u(()=>[a(b,{modelValue:o(t).request.ordernumber,"onUpdate:modelValue":l[4]||(l[4]=e=>o(t).request.ordernumber=e),type:"number"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),a(D,{modelValue:m.value,"onUpdate:modelValue":l[12]||(l[12]=e=>m.value=e),title:"Update Milestone",buttonLabel:"Update",onConfirm:l[13]||(l[13]=e=>S())},{default:u(()=>[a(i,{label:"Milestone Title"},{default:u(()=>[a(b,{modelValue:o(t).request.milestone,"onUpdate:modelValue":l[7]||(l[7]=e=>o(t).request.milestone=e)},null,8,["modelValue"])]),_:1}),a(i,{label:"Document File"},{default:u(()=>[a(E,{modelValue:o(t).request.file,"onUpdate:modelValue":l[8]||(l[8]=e=>o(t).request.file=e)},null,8,["modelValue"])]),_:1}),a(i,{label:"Type"},{default:u(()=>[a(b,{modelValue:o(t).request.milestone_type,"onUpdate:modelValue":l[9]||(l[9]=e=>o(t).request.milestone_type=e),options:C},null,8,["modelValue"])]),_:1}),a(i,{label:"Percent"},{default:u(()=>[a(b,{modelValue:o(t).request.percent,"onUpdate:modelValue":l[10]||(l[10]=e=>o(t).request.percent=e),type:"number"},null,8,["modelValue"])]),_:1}),a(i,{label:"Order",help:"Enter order number"},{default:u(()=>[a(b,{modelValue:o(t).request.ordernumber,"onUpdate:modelValue":l[11]||(l[11]=e=>o(t).request.ordernumber=e),type:"number"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),a(D,{modelValue:p.value,"onUpdate:modelValue":l[14]||(l[14]=e=>p.value=e),"large-title":"Delete Milestone",button:"danger",buttonLabel:"Confirm",onConfirm:l[15]||(l[15]=e=>o(t).destroy()),"has-cancel":""},null,8,["modelValue"]),a(z,{"title-stack":w.value},null,8,["title-stack"]),a(G,null,{default:u(()=>[a(J,{title:"Milestone Two List",hasTable:!0,icon:o(K),headerIcon:o(Q),onHeaderIconClick:l[16]||(l[16]=e=>q())},{default:u(()=>[a(ge,{data:o(t).list,onSelectCourse:$,onDestroyCourse:T},null,8,["data"])]),_:1},8,["icon","headerIcon"])]),_:1})],64))}};export{Te as default};
