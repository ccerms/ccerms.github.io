import{ag as G,V as z,r as _,A as Y,o as r,k as d,a as s,w as n,b as t,u as a,f as M,aa as D,F as k,L as q,t as h,E as F,a8 as j,v as J,x as N,y as B,a5 as Q,G as W,B as P,c as H,a6 as Z,a7 as ee,e as le,l as te,S as se,I as ae,M as oe,U as re,a9 as ue}from"./index.02e3cb5b.js";import{_ as E}from"./CardBoxModal.1a333cdf.js";import{_ as w}from"./FormField.7710561b.js";import{_ as X}from"./FormFilePicker.e281e131.js";import{_ as U}from"./FormControl.dbc7ef08.js";import{c as K}from"./alert.93440aee.js";import{y as O}from"./settings_data.619c00ae.js";import"./milestonetwo.129efb8c.js";import{u as ne}from"./course.d11ee161.js";const de=t("h4",{class:"text-center"}," Click Delete to remove from list... ",-1),ie={class:"space-y-3"},ce={class:"grid grid-cols-2 gap-4"},fe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},pe={class:"flex justify-center"},me={class:"bg-white rounded-lg w-96 text-gray-900"},ve={class:"flex justify-center"},be={class:"bg-white rounded-lg w-96 text-gray-900"},he={class:"flex justify-center"},_e={class:"bg-white rounded-lg w-96 text-gray-900"},ye={__name:"Create",props:{course:{type:Array,default:[]}},emits:["back","archivesCreate"],setup(T,{emit:V}){const f=T,o=G(),m=z(),y=_(!1),v=_(""),x=_(""),b=_(""),I=_(!1),c=_(null),C=Y(()=>{const i=[];return f.course.forEach(e=>{i.push({id:e.id,label:e.course.toUpperCase()})}),i}),u=()=>{V("back",!1)},p=()=>{m.showLoading=!0,o.create().then(i=>{K("success","Successfully created!"),V("archivesCreate",{status:!0,list:i.data.researches}),m.showLoading=!1}).catch(()=>{K("warning","Check field required!"),V("archivesCreate",{status:!1}),m.showLoading=!1})},A=i=>{v.value=i,x.value="Add "+i,y.value=!0,b.value=""},$=()=>{if(b.value==""){alert("Fullname required");return}v.value=="member"?o.request.member.push({id:null,fullname:b.value}):v.value=="adviser"?o.request.adviser.push({id:null,fullname:b.value}):o.request.panel.push({id:null,fullname:b.value})},g=(i,e)=>{c.value=i,v.value=e,I.value=!0},L=()=>{v.value=="member"?o.request.member.splice(c,1):v.value=="adviser"?o.request.adviser.splice(c,1):o.request.panel.splice(c,1)};return(i,e)=>(r(),d(k,null,[s(E,{modelValue:y.value,"onUpdate:modelValue":e[1]||(e[1]=l=>y.value=l),"large-title":x.value,button:"success",buttonLabel:"Add    ",onConfirm:e[2]||(e[2]=l=>$())},{default:n(()=>[s(w,{label:"Fullname"},{default:n(()=>[s(U,{modelValue:b.value,"onUpdate:modelValue":e[0]||(e[0]=l=>b.value=l)},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue","large-title"]),s(E,{modelValue:I.value,"onUpdate:modelValue":e[3]||(e[3]=l=>I.value=l),"large-title":"Delete entry...",button:"warning",buttonLabel:"Delete",onConfirm:e[4]||(e[4]=l=>L())},{default:n(()=>[de]),_:1},8,["modelValue"]),s(M,{title:"Create Research Archives",form:!0,headerIcon:a(Q),onHeaderIconClick:e[15]||(e[15]=l=>u())},{default:n(()=>[t("div",ie,[s(w,{label:"Research Title"},{default:n(()=>[s(U,{modelValue:a(o).request.title,"onUpdate:modelValue":e[5]||(e[5]=l=>a(o).request.title=l)},null,8,["modelValue"])]),_:1}),s(w,{label:"Course"},{default:n(()=>[s(U,{modelValue:a(o).request.course,"onUpdate:modelValue":e[6]||(e[6]=l=>a(o).request.course=l),options:a(C)},null,8,["modelValue","options"])]),_:1}),s(w,{label:"Tags",help:"Use (#) to define tags and (,) for separator. eg. #web,#mobile"},{default:n(()=>[s(U,{modelValue:a(o).request.tags,"onUpdate:modelValue":e[7]||(e[7]=l=>a(o).request.tags=l)},null,8,["modelValue"])]),_:1}),t("div",ce,[t("div",null,[s(w,{label:"Year Published From"},{default:n(()=>[s(U,{modelValue:a(o).request.year_from_published,"onUpdate:modelValue":e[8]||(e[8]=l=>a(o).request.year_from_published=l),options:a(O)},null,8,["modelValue","options"])]),_:1})]),t("div",null,[s(w,{label:"Year Published To"},{default:n(()=>[s(U,{modelValue:a(o).request.year_to_published,"onUpdate:modelValue":e[9]||(e[9]=l=>a(o).request.year_to_published=l),options:a(O)},null,8,["modelValue","options"])]),_:1})])]),s(w,{label:"Reseach File"},{default:n(()=>[s(X,{modelValue:a(o).request.file,"onUpdate:modelValue":e[10]||(e[10]=l=>a(o).request.file=l)},null,8,["modelValue"])]),_:1}),t("div",fe,[t("div",null,[s(M,{title:"Members",headerIcon:a(D),onHeaderIconClick:e[11]||(e[11]=l=>A("member"))},{default:n(()=>[t("div",pe,[t("ul",me,[(r(!0),d(k,null,q(a(o).request.member,(l,S)=>(r(),d("li",{key:l.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[t("p",null,h(l.fullname),1),s(F,{path:a(j),class:"cursor-pointer mr-3",onClick:R=>g(S,"member")},null,8,["path","onClick"])]))),128))])])]),_:1},8,["headerIcon"])]),t("div",null,[s(M,{title:"Adviser(s)",headerIcon:a(D),onHeaderIconClick:e[12]||(e[12]=l=>A("adviser"))},{default:n(()=>[t("div",ve,[t("ul",be,[(r(!0),d(k,null,q(a(o).request.adviser,(l,S)=>(r(),d("li",{key:l.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[t("p",null,h(l.fullname),1),s(F,{path:a(j),class:"cursor-pointer mr-3",onClick:R=>g(S,"adviser")},null,8,["path","onClick"])]))),128))])])]),_:1},8,["headerIcon"])]),t("div",null,[s(M,{title:"Panel(s)",headerIcon:a(D),onHeaderIconClick:e[13]||(e[13]=l=>A("panel"))},{default:n(()=>[t("div",he,[t("ul",_e,[(r(!0),d(k,null,q(a(o).request.panel,(l,S)=>(r(),d("li",{key:l.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[t("p",null,h(l.fullname),1),s(F,{path:a(j),class:"cursor-pointer mr-3",onClick:R=>g(S,"panel")},null,8,["path","onClick"])]))),128))])])]),_:1},8,["headerIcon"])])])]),s(J),s(N,null,{default:n(()=>[s(B,{label:"Create",color:"info",onClick:e[14]||(e[14]=l=>p())})]),_:1})]),_:1},8,["headerIcon"])],64))}},ge=t("h4",{class:"text-center"}," Click Delete to remove from list... ",-1),ke={class:"space-y-3"},Ce={class:"grid grid-cols-2 gap-4"},$e={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},we={class:"flex justify-center"},Ve={class:"bg-white rounded-lg w-96 text-gray-900"},xe={class:"flex justify-center"},qe={class:"bg-white rounded-lg w-96 text-gray-900"},Ue={class:"flex justify-center"},Ie={class:"bg-white rounded-lg w-96 text-gray-900"},Se={__name:"Update",props:{course:{type:Array,default:[]},item:{type:Object,default:{}}},emits:["back","archivesUpdate"],setup(T,{emit:V}){const f=T,o=G(),m=z(),y=_(!1),v=_(""),x=_(""),b=_(""),I=_(!1),c=_(null);W(()=>{o.request=f.item});const C=Y(()=>{const i=[];return f.course.forEach(e=>{i.push({id:e.id,label:e.course.toUpperCase()})}),i}),u=()=>{V("back",!1)},p=()=>{m.showLoading=!0,o.update().then(i=>{K("success","Successfully updated!"),V("archivesUpdate",{status:!0,list:i.data.researches}),m.showLoading=!1}).catch(()=>{K("warning","Server error!"),V("archivesUpdate",{status:!1}),m.showLoading=!1})},A=i=>{v.value=i,x.value="Add "+i,y.value=!0,b.value=""},$=()=>{if(b.value==""){alert("Fullname required");return}v.value=="member"?o.request.member.push({id:null,fullname:b.value}):v.value=="adviser"?o.request.adviser.push({id:null,fullname:b.value}):o.request.panel.push({id:null,fullname:b.value})},g=(i,e)=>{c.value=i,v.value=e,I.value=!0},L=()=>{if(v.value=="member"){const i=o.request.member[c.value];i.id!==null&&o.destroy_personnel(i.id,"researcharchiveamembers"),o.request.member.splice(c.value,1)}else if(v.value=="adviser"){const i=o.request.adviser[c.value];i.id!==null&&o.destroy_personnel(i.id,"researcharchiveadvisers"),o.request.adviser.splice(c.value,1)}else{const i=o.request.panel[c.value];i.id!==null&&o.destroy_personnel(i.id,"researcharchivepanels"),o.request.panel.splice(c.value,1)}};return(i,e)=>(r(),d(k,null,[s(E,{modelValue:y.value,"onUpdate:modelValue":e[1]||(e[1]=l=>y.value=l),"large-title":x.value,button:"success",buttonLabel:"Add    ",onConfirm:e[2]||(e[2]=l=>$())},{default:n(()=>[s(w,{label:"Fullname"},{default:n(()=>[s(U,{modelValue:b.value,"onUpdate:modelValue":e[0]||(e[0]=l=>b.value=l)},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue","large-title"]),s(E,{modelValue:I.value,"onUpdate:modelValue":e[3]||(e[3]=l=>I.value=l),"large-title":"Delete entry...",button:"warning",buttonLabel:"Delete",onConfirm:e[4]||(e[4]=l=>L())},{default:n(()=>[ge]),_:1},8,["modelValue"]),s(M,{title:"Update Research Archives",form:!0,headerIcon:a(Q),onHeaderIconClick:e[15]||(e[15]=l=>u())},{default:n(()=>[t("div",ke,[s(w,{label:"Research Title"},{default:n(()=>[s(U,{modelValue:a(o).request.title,"onUpdate:modelValue":e[5]||(e[5]=l=>a(o).request.title=l)},null,8,["modelValue"])]),_:1}),s(w,{label:"Course"},{default:n(()=>[s(U,{modelValue:a(o).request.course,"onUpdate:modelValue":e[6]||(e[6]=l=>a(o).request.course=l),options:a(C)},null,8,["modelValue","options"])]),_:1}),s(w,{label:"Tags",help:"Use (#) to define tags and (,) for separator. eg. #web,#mobile"},{default:n(()=>[s(U,{modelValue:a(o).request.tags,"onUpdate:modelValue":e[7]||(e[7]=l=>a(o).request.tags=l)},null,8,["modelValue"])]),_:1}),t("div",Ce,[t("div",null,[s(w,{label:"Year Published From"},{default:n(()=>[s(U,{modelValue:a(o).request.year_from_published,"onUpdate:modelValue":e[8]||(e[8]=l=>a(o).request.year_from_published=l),options:a(O)},null,8,["modelValue","options"])]),_:1})]),t("div",null,[s(w,{label:"Year Published To"},{default:n(()=>[s(U,{modelValue:a(o).request.year_to_published,"onUpdate:modelValue":e[9]||(e[9]=l=>a(o).request.year_to_published=l),options:a(O)},null,8,["modelValue","options"])]),_:1})])]),s(w,{label:"Reseach File"},{default:n(()=>[s(X,{modelValue:a(o).request.file,"onUpdate:modelValue":e[10]||(e[10]=l=>a(o).request.file=l)},null,8,["modelValue"])]),_:1}),t("div",$e,[t("div",null,[s(M,{title:"Members",headerIcon:a(D),onHeaderIconClick:e[11]||(e[11]=l=>A("member"))},{default:n(()=>[t("div",we,[t("ul",Ve,[(r(!0),d(k,null,q(a(o).request.member,(l,S)=>(r(),d("li",{key:l.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[t("p",null,h(l.fullname),1),s(F,{path:a(j),class:"cursor-pointer mr-3",onClick:R=>g(S,"member")},null,8,["path","onClick"])]))),128))])])]),_:1},8,["headerIcon"])]),t("div",null,[s(M,{title:"Adviser(s)",headerIcon:a(D),onHeaderIconClick:e[12]||(e[12]=l=>A("adviser"))},{default:n(()=>[t("div",xe,[t("ul",qe,[(r(!0),d(k,null,q(a(o).request.adviser,(l,S)=>(r(),d("li",{key:l.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[t("p",null,h(l.fullname),1),s(F,{path:a(j),class:"cursor-pointer mr-3",onClick:R=>g(S,"adviser")},null,8,["path","onClick"])]))),128))])])]),_:1},8,["headerIcon"])]),t("div",null,[s(M,{title:"Panel(s)",headerIcon:a(D),onHeaderIconClick:e[13]||(e[13]=l=>A("panel"))},{default:n(()=>[t("div",Ue,[t("ul",Ie,[(r(!0),d(k,null,q(a(o).request.panel,(l,S)=>(r(),d("li",{key:l.id,class:"px-6 py-2 border-b border-gray-200 w-full flex justify-between"},[t("p",null,h(l.fullname),1),s(F,{path:a(j),class:"cursor-pointer mr-3",onClick:R=>g(S,"panel")},null,8,["path","onClick"])]))),128))])])]),_:1},8,["headerIcon"])])])]),s(J),s(N,null,{default:n(()=>[s(B,{label:"Update",color:"info",onClick:e[14]||(e[14]=l=>p())})]),_:1})]),_:1},8,["headerIcon"])],64))}},Ae={key:0,class:"p-3 bg-gray-100/50 dark:bg-gray-800"},Le={key:0},Me=t("th",null,"Code",-1),De=t("th",null,"Research Title",-1),je=t("th",null,"Course",-1),Te=t("th",null,"Tags",-1),Fe=t("th",null,"File",-1),Pe=t("th",null,"Year Published",-1),Re=t("th",null,"Members",-1),Be=t("th",null,"Adviser(s)",-1),He=t("th",null,"Panel(s)",-1),Ee=t("th",null,"Actions",-1),Ye={key:0},Ne={"data-label":"Code"},Ke={"data-label":"Title"},Oe={"data-label":"Course"},Ge={"data-label":"Tags"},ze={"data-label":"File"},Je=["href"],Qe={"data-label":"Year Published"},We={"data-label":"Member(s)"},Xe={"data-label":"Adviser(s)"},Ze={"data-label":"Panel(s)"},el={class:"before:hidden lg:w-1 whitespace-nowrap"},ll={key:1},tl=t("tr",null,[t("td",{colspan:"10"},"No research archive data")],-1),sl=[tl],al={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-gray-800"},ol={__name:"Table",props:{data:{type:Object,default:null},search:{string:String,default:""},checkable:Boolean},emits:["select-archive","destroy-archive"],setup(T,{emit:V}){const f=T,o=G();Y(()=>f.data);const m=_([]),y=Y(()=>{const c=[];for(let C=1;C<=f.data.last_page;C++)c.push(C);return c}),v=c=>{V("select-archive",c)},x=c=>{V("destroy-archive",c)},b=(c,C)=>{const u=[];return c.forEach(p=>{C(p)||u.push(p)}),u},I=(c,C)=>{c?m.value.push(C):m.value=b(m.value,u=>u.id===C.id)};return(c,C)=>(r(),d(k,null,[m.value.length?(r(),d("div",Ae,[(r(!0),d(k,null,q(m.value,u=>(r(),d("span",{key:u.id,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm bg-gray-100 dark:bg-gray-700"},h(u.name),1))),128))])):P("",!0),t("table",null,[t("thead",null,[t("tr",null,[f.checkable?(r(),d("th",Le)):P("",!0),Me,De,je,Te,Fe,Pe,Re,Be,He,Ee])]),f.data.total>0?(r(),d("tbody",Ye,[(r(!0),d(k,null,q(f.data.data,u=>(r(),d("tr",{key:u.id},[f.checkable?(r(),H(Z,{key:0,onChecked:p=>I(p,u)},null,8,["onChecked"])):P("",!0),t("td",Ne,h(u.code),1),t("td",Ke,h(u.title),1),t("td",Oe,h(u.course.course),1),t("td",Ge,h(u.tags),1),t("td",ze,[t("a",{href:u.file_url,class:"text-blue-400"},h(u.file),9,Je)]),t("td",Qe,h(u.year_from_published)+" - "+h(u.year_to_published),1),t("td",We,[(r(!0),d(k,null,q(u.member,p=>(r(),d("span",{key:p.id,class:"bg-blue-100 text-blue-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-blue-200 dark:text-blue-800"},h(p.fullname.toUpperCase()),1))),128))]),t("td",Xe,[(r(!0),d(k,null,q(u.adviser,p=>(r(),d("span",{key:p.id,class:"bg-blue-100 text-blue-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-blue-200 dark:text-blue-800"},h(p.fullname.toUpperCase()),1))),128))]),t("td",Ze,[(r(!0),d(k,null,q(u.panel,p=>(r(),d("span",{key:p.id,class:"bg-blue-100 text-blue-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-blue-200 dark:text-blue-800"},h(p.fullname.toUpperCase()),1))),128))]),t("td",el,[s(N,{type:"justify-start lg:justify-end","no-wrap":""},{default:n(()=>[s(B,{color:"info",icon:a(ee),small:"",onClick:p=>v(u)},null,8,["icon","onClick"]),s(B,{color:"danger",icon:a(j),small:"",onClick:p=>x(u)},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])):(r(),d("tbody",ll,sl))]),t("div",al,[s(le,null,{default:n(()=>[s(N,null,{default:n(()=>[(r(!0),d(k,null,q(a(y),u=>(r(),H(B,{key:u,active:u===f.data.current_page,label:u,small:"",onClick:p=>a(o).fetch(f.search,u)},null,8,["active","label","onClick"]))),128))]),_:1}),t("small",null,"Page "+h(f.data.current_page)+" of "+h(f.data.last_page),1)]),_:1})])],64))}},rl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ul={class:"p-3 w-full"},nl=["onKeyup"],_l={__name:"ResearchArchives",setup(T){const V=_(["Admin","Settings","Research Archives"]),f=G(),o=ne(),m=_(!1),y=_(!1);_(!1);const v=_(!1),x=_("");W(()=>{f.fetch("",1),o.fetch()});const b=()=>{f.fetch(x.value,1)},I=()=>{m.value=!0,y.value=!1},c=$=>{$.status&&(f.list=$.list,m.value=!1,y.value=!1)},C=$=>{$.status&&(f.list=$.list,m.value=!1,y.value=!1)},u=()=>{m.value=!1,y.value=!1},p=$=>{y.value=!0,m.value=!1,f.select($)},A=$=>{v.value=!0,f.select($)};return($,g)=>(r(),d(k,null,[s(E,{modelValue:v.value,"onUpdate:modelValue":g[0]||(g[0]=L=>v.value=L),"large-title":"Delete Milestone",button:"danger",buttonLabel:"Confirm",onConfirm:g[1]||(g[1]=L=>$.milestoneStore.destroy()),"has-cancel":""},null,8,["modelValue"]),s(te,{"title-stack":V.value},null,8,["title-stack"]),s(se,null,{default:n(()=>[m.value?(r(),H(ye,{key:0,course:a(o).list,onBack:u,onArchivesCreate:c},null,8,["course"])):P("",!0),y.value?(r(),H(Se,{key:1,course:a(o).list,item:a(f).request,onBack:u,onArchivesUpdate:C},null,8,["course","item"])):P("",!0),!m.value&&!y.value?(r(),H(M,{key:2,title:"Research Archives List",hasTable:!0,icon:a(ue),headerIcon:a(D),onHeaderIconClick:g[3]||(g[3]=L=>I())},{default:n(()=>[t("div",rl,[t("div",ul,[ae(t("input",{class:"w-full border-b border-b-1 border-0 focus:outline-none focus:ring-0 focus:border-yellow-400 focus:border-b-2",type:"text",placeholder:"Hit enter to search research...","onUpdate:modelValue":g[2]||(g[2]=L=>x.value=L),onKeyup:re(b,["enter"])},null,40,nl),[[oe,x.value]])])]),s(ol,{data:a(f).list,search:x.value,onSelectArchive:p,onDestroyArchive:A},null,8,["data","search"])]),_:1},8,["icon","headerIcon"])):P("",!0)]),_:1})],64))}};export{_l as default};
