import{c as g,r as m,o as d,a as p,F as b,d as U,t as _,e as S,f as l,g as D,_ as H,b as n,w as r,i as L,j as o,m as I,k as F,l as N,n as M,q,S as z,ap as W,p as E,z as G,v as J,W as K,as as O}from"./index.cf42fdb7.js";import{_ as B}from"./CardBoxModal.293300a9.js";import{_ as j}from"./FormField.fc61414c.js";import{_ as A}from"./FormControl.44c64591.js";import{_ as Q}from"./NotificationBar.92bb6639.js";import{u as R}from"./scheduletype.37924cd0.js";const X={key:0,class:"p-3 bg-gray-100/50 dark:bg-gray-800"},Y={key:0},Z=l("th",null,"Code",-1),ee=l("th",null,"Type",-1),te=l("th",null,"Created",-1),ae=l("th",null,"Updated",-1),le=l("th",null,null,-1),se={"data-label":"Code"},oe={"data-label":"Type"},ne={"data-label":"Created",class:"lg:w-1 whitespace-nowrap"},ue=["title"],de={"data-label":"Updated",class:"lg:w-1 whitespace-nowrap"},re=["title"],ce={class:"before:hidden lg:w-1 whitespace-nowrap"},ie={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-gray-800"},pe={__name:"Table",props:{data:{type:Array,default:[]},checkable:Boolean},emits:["select-course","destroy-course"],setup(P,{emit:k}){const t=P,y=g(()=>t.data);m(!1);const h=m(10),c=m(0),u=m([]),$=g(()=>y.value.slice(h.value*c.value,h.value*(c.value+1))),C=g(()=>Math.ceil(y.value.length/h.value)),w=g(()=>c.value+1),V=g(()=>{const e=[];for(let i=0;i<C.value;i++)e.push(i);return e}),T=e=>{k("select-course",e)},x=e=>{k("destroy-course",e)},v=(e,i)=>{const a=[];return e.forEach(f=>{i(f)||a.push(f)}),a},s=(e,i)=>{e?u.value.push(i):u.value=v(u.value,a=>a.id===i.id)};return(e,i)=>(d(),p(b,null,[u.value.length?(d(),p("div",X,[(d(!0),p(b,null,U(u.value,a=>(d(),p("span",{key:a.id,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm bg-gray-100 dark:bg-gray-700"},_(a.name),1))),128))])):S("",!0),l("table",null,[l("thead",null,[l("tr",null,[t.checkable?(d(),p("th",Y)):S("",!0),Z,ee,te,ae,le])]),l("tbody",null,[(d(!0),p(b,null,U(o($),a=>(d(),p("tr",{key:a.id},[t.checkable?(d(),D(H,{key:0,onChecked:f=>s(f,a)},null,8,["onChecked"])):S("",!0),l("td",se,_(a.code),1),l("td",oe,_(a.type.toUpperCase()),1),l("td",ne,[l("small",{class:"text-gray-500 dark:text-gray-400",title:a.created_at},_(a.created_at),9,ue)]),l("td",de,[l("small",{class:"text-gray-500 dark:text-gray-400",title:a.updated_at},_(a.updated_at),9,re)]),l("td",ce,[n(N,{type:"justify-start lg:justify-end","no-wrap":""},{default:r(()=>[n(L,{color:"info",icon:o(I),small:"",onClick:f=>T(a)},null,8,["icon","onClick"]),n(L,{color:"danger",icon:o(F),small:"",onClick:f=>x(a)},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])]),l("div",ie,[n(M,null,{default:r(()=>[n(N,null,{default:r(()=>[(d(!0),p(b,null,U(o(V),a=>(d(),D(L,{key:a,active:a===c.value,label:a+1,small:"",onClick:f=>c.value=a},null,8,["active","label","onClick"]))),128))]),_:1}),l("small",null,"Page "+_(o(w))+" of "+_(o(C)),1)]),_:1})])],64))}},_e=l("b",null,"Confirm",-1),me=E(" to delete course "),ke={__name:"ScheduleTypeSettings",setup(P){const k=m(["Admin","Settings","Schedule Type"]),t=R(),y=m(!1),h=m(!1),c=m(!1),u=W("Loader");t.fetch();const $=()=>{y.value=!0,t.id="",t.type=""},C=v=>{h.value=!0,t.select(v)},w=v=>{c.value=!0,t.select(v)},V=()=>{u.show(),t.create().then(()=>{u.hide()}).catch(()=>{u.hide()})},T=()=>{u.show(),t.update().then(()=>{u.hide()}).catch(()=>{u.hide()})},x=()=>{t.status.status=!0};return(v,s)=>(d(),p(b,null,[n(B,{modelValue:y.value,"onUpdate:modelValue":s[1]||(s[1]=e=>y.value=e),"large-title":"Create Schedule Type",button:"success",buttonLabel:"Create",onConfirm:s[2]||(s[2]=e=>V())},{default:r(()=>[n(j,{label:"Schedule Type"},{default:r(()=>[n(A,{modelValue:o(t).type,"onUpdate:modelValue":s[0]||(s[0]=e=>o(t).type=e)},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),n(B,{modelValue:h.value,"onUpdate:modelValue":s[4]||(s[4]=e=>h.value=e),title:"Update Schedule Type",buttonLabel:"Update",onConfirm:s[5]||(s[5]=e=>T())},{default:r(()=>[n(j,{label:"Schedule Type"},{default:r(()=>[n(A,{modelValue:o(t).type,"onUpdate:modelValue":s[3]||(s[3]=e=>o(t).type=e)},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),n(B,{modelValue:c.value,"onUpdate:modelValue":s[6]||(s[6]=e=>c.value=e),"large-title":"Delete Course",button:"danger",buttonLabel:"Confirm",onConfirm:s[7]||(s[7]=e=>o(t).destroy()),"has-cancel":""},{default:r(()=>[l("p",null,[_e,me,l("b",null,_(o(t).type.toUpperCase()),1)])]),_:1},8,["modelValue"]),n(q,{"title-stack":k.value},null,8,["title-stack"]),n(z,null,{default:r(()=>[o(t).status.status?S("",!0):(d(),D(Q,{key:0,isDismissed:o(t).status.status,color:o(t).status.success?"success":"danger",icon:o(G),onHideNotification:x},{default:r(()=>[E(_(o(t).status.message),1)]),_:1},8,["isDismissed","color","icon"])),n(J,{title:"Schedule Type List",hasTable:!0,icon:o(K),headerIcon:o(O),onHeaderIconClick:s[8]||(s[8]=e=>$())},{default:r(()=>[n(pe,{data:o(t).list,onSelectCourse:C,onDestroyCourse:w},null,8,["data"])]),_:1},8,["icon","headerIcon"])]),_:1})],64))}};export{ke as default};
