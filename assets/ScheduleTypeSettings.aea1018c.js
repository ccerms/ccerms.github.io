import{A as b,r as h,o as r,k as m,F as k,L as x,t as f,B as U,b as t,c as D,a6 as j,a as s,w as d,y as B,u as n,a7 as q,a8 as F,x as N,e as H,V as M,l as z,S as G,f as J,a9 as K,aa as O,g as Q}from"./index.02e3cb5b.js";import{_ as P}from"./CardBoxModal.1a333cdf.js";import{_ as E}from"./FormField.7710561b.js";import{_ as I}from"./FormControl.dbc7ef08.js";import{c as S}from"./alert.93440aee.js";import{u as R}from"./scheduletype.c397cfc5.js";const W={key:0,class:"p-3 bg-gray-100/50 dark:bg-gray-800"},X={key:0},Y=t("th",null,"Code",-1),Z=t("th",null,"Type",-1),ee=t("th",null,"Created",-1),te=t("th",null,"Updated",-1),le=t("th",null,null,-1),ae={"data-label":"Code"},se={"data-label":"Type"},oe={"data-label":"Created",class:"lg:w-1 whitespace-nowrap"},ne=["title"],ue={"data-label":"Updated",class:"lg:w-1 whitespace-nowrap"},re=["title"],de={class:"before:hidden lg:w-1 whitespace-nowrap"},ce={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-gray-800"},ie={__name:"Table",props:{data:{type:Array,default:[]},checkable:Boolean},emits:["select-course","destroy-course"],setup(A,{emit:C}){const a=A,c=b(()=>a.data);h(!1);const y=h(10),i=h(0),p=h([]),V=b(()=>c.value.slice(y.value*i.value,y.value*(i.value+1))),w=b(()=>Math.ceil(c.value.length/y.value)),$=b(()=>i.value+1),L=b(()=>{const u=[];for(let _=0;_<w.value;_++)u.push(_);return u}),T=u=>{C("select-course",u)},v=u=>{C("destroy-course",u)},l=(u,_)=>{const e=[];return u.forEach(g=>{_(g)||e.push(g)}),e},o=(u,_)=>{u?p.value.push(_):p.value=l(p.value,e=>e.id===_.id)};return(u,_)=>(r(),m(k,null,[p.value.length?(r(),m("div",W,[(r(!0),m(k,null,x(p.value,e=>(r(),m("span",{key:e.id,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm bg-gray-100 dark:bg-gray-700"},f(e.name),1))),128))])):U("",!0),t("table",null,[t("thead",null,[t("tr",null,[a.checkable?(r(),m("th",X)):U("",!0),Y,Z,ee,te,le])]),t("tbody",null,[(r(!0),m(k,null,x(n(V),e=>(r(),m("tr",{key:e.id},[a.checkable?(r(),D(j,{key:0,onChecked:g=>o(g,e)},null,8,["onChecked"])):U("",!0),t("td",ae,f(e.code),1),t("td",se,f(e.type.toUpperCase()),1),t("td",oe,[t("small",{class:"text-gray-500 dark:text-gray-400",title:e.created_at},f(e.created_at),9,ne)]),t("td",ue,[t("small",{class:"text-gray-500 dark:text-gray-400",title:e.updated_at},f(e.updated_at),9,re)]),t("td",de,[s(N,{type:"justify-start lg:justify-end","no-wrap":""},{default:d(()=>[s(B,{color:"info",icon:n(q),small:"",onClick:g=>T(e)},null,8,["icon","onClick"]),s(B,{color:"danger",icon:n(F),small:"",onClick:g=>v(e)},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])]),t("div",ce,[s(H,null,{default:d(()=>[s(N,null,{default:d(()=>[(r(!0),m(k,null,x(n(L),e=>(r(),D(B,{key:e,active:e===i.value,label:e+1,small:"",onClick:g=>i.value=e},null,8,["active","label","onClick"]))),128))]),_:1}),t("small",null,"Page "+f(n($))+" of "+f(n(w)),1)]),_:1})])],64))}},pe=t("b",null,"Confirm",-1),_e=Q(" to delete course "),be={__name:"ScheduleTypeSettings",setup(A){const C=h(["Admin","Settings","Schedule Type"]),a=R(),c=M(),y=h(!1),i=h(!1),p=h(!1);a.fetch();const V=()=>{y.value=!0,a.id="",a.type=""},w=v=>{i.value=!0,a.select(v)},$=v=>{p.value=!0,a.select(v)},L=()=>{c.showLoading=!0,a.create().then(()=>{S("success","Successfully created!"),c.showLoading=!1}).catch(()=>{S("warning","Check field required!"),c.showLoading=!1})},T=()=>{c.showLoading=!0,a.update().then(()=>{S("success","Successfully created!"),c.showLoading=!1}).catch(()=>{S("warning","Check field required!"),c.showLoading=!1})};return(v,l)=>(r(),m(k,null,[s(P,{modelValue:y.value,"onUpdate:modelValue":l[1]||(l[1]=o=>y.value=o),"large-title":"Create Schedule Type",button:"success",buttonLabel:"Create",onConfirm:l[2]||(l[2]=o=>L())},{default:d(()=>[s(E,{label:"Schedule Type"},{default:d(()=>[s(I,{modelValue:n(a).type,"onUpdate:modelValue":l[0]||(l[0]=o=>n(a).type=o)},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),s(P,{modelValue:i.value,"onUpdate:modelValue":l[4]||(l[4]=o=>i.value=o),title:"Update Schedule Type",buttonLabel:"Update",onConfirm:l[5]||(l[5]=o=>T())},{default:d(()=>[s(E,{label:"Schedule Type"},{default:d(()=>[s(I,{modelValue:n(a).type,"onUpdate:modelValue":l[3]||(l[3]=o=>n(a).type=o)},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),s(P,{modelValue:p.value,"onUpdate:modelValue":l[6]||(l[6]=o=>p.value=o),"large-title":"Delete Course",button:"danger",buttonLabel:"Confirm",onConfirm:l[7]||(l[7]=o=>n(a).destroy()),"has-cancel":""},{default:d(()=>[t("p",null,[pe,_e,t("b",null,f(n(a).type.toUpperCase()),1)])]),_:1},8,["modelValue"]),s(z,{"title-stack":C.value},null,8,["title-stack"]),s(G,null,{default:d(()=>[s(J,{title:"Schedule Type List",hasTable:!0,icon:n(K),headerIcon:n(O),onHeaderIconClick:l[8]||(l[8]=o=>V())},{default:d(()=>[s(ie,{data:n(a).list,onSelectCourse:w,onDestroyCourse:$},null,8,["data"])]),_:1},8,["icon","headerIcon"])]),_:1})],64))}};export{be as default};
