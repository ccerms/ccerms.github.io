import{r as c,ap as F,c as x,o as p,a as v,b as a,w as u,f as o,j as t,Q as E,l as B,i as I,ar as j,v as M,F as D,d as T,t as b,e as C,g as L,_ as W,aq as J,m as K,k as R,n as X,q as Y,S as Z,p as ee,z as le,W as te,as as se}from"./index.cf42fdb7.js";import{_ as A}from"./CardBoxModal.293300a9.js";import{_ as ae}from"./NotificationBar.92bb6639.js";import{_ as d}from"./FormField.fc61414c.js";import{_ as H}from"./FormFilePicker.e4edc9a1.js";import{_ as n}from"./FormControl.44c64591.js";import{_ as G}from"./NotificationBarInCard.7433961d.js";import{u as N}from"./students.744adf24.js";import{g as z,a as O,s as Q}from"./settings_data.af95b34a.js";import{u as oe}from"./course.e5eca672.js";const ue=o("h4",{class:"text-center"}," Click Delete to remove from list... ",-1),de={class:"space-y-3"},ne=o("span",{class:"font-bold"},"Student Details.",-1),re={class:"grid grid-cols-1 md:grid-cols-2"},ie={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},me={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},pe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ce={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},fe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ge={__name:"Create",props:{courses:{type:Array,default:[]}},emits:["back","userCreate"],setup(P,{emit:q}){const y=P,l=N(),f=c(!1),i=c(""),V=c(""),_=c(""),U=c(!1),k=c(null),h=F("Loader"),$=x(()=>{const r=[];return y.courses.forEach(e=>{r.push({id:e.id,label:e.course})}),r}),S=()=>{q("back",!1)},w=()=>{h.show(),l.create().then(r=>{h.hide(),q("userCreate",{status:!0,list:r.data.students})}).catch(()=>{h.hide(),q("userCreate",{status:!1})})},g=()=>{if(_.value==""){alert("Fullname required");return}i.value=="member"?l.request.member.push({id:null,fullname:_.value}):i.value=="adviser"?l.request.adviser.push({id:null,fullname:_.value}):l.request.panel.push({id:null,fullname:_.value})},m=()=>{i.value=="member"?l.request.member.splice(k,1):i.value=="adviser"?l.request.adviser.splice(k,1):l.request.panel.splice(k,1)};return(r,e)=>(p(),v(D,null,[a(A,{modelValue:f.value,"onUpdate:modelValue":e[1]||(e[1]=s=>f.value=s),"large-title":V.value,button:"success",buttonLabel:"Add    ",onConfirm:e[2]||(e[2]=s=>g())},{default:u(()=>[a(d,{label:"Fullname"},{default:u(()=>[a(n,{modelValue:_.value,"onUpdate:modelValue":e[0]||(e[0]=s=>_.value=s)},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue","large-title"]),a(A,{modelValue:U.value,"onUpdate:modelValue":e[3]||(e[3]=s=>U.value=s),"large-title":"Delete entry...",button:"warning",buttonLabel:"Delete",onConfirm:e[4]||(e[4]=s=>m())},{default:u(()=>[ue]),_:1},8,["modelValue"]),a(M,{title:"Create New Student",form:!0,headerIcon:t(j),onHeaderIconClick:e[20]||(e[20]=s=>S())},{default:u(()=>[o("div",de,[a(G,{color:"light"},{default:u(()=>[ne]),_:1}),o("div",re,[a(d,{label:"Profile Picture"},{default:u(()=>[a(H,{modelValue:t(l).request.file,"onUpdate:modelValue":e[5]||(e[5]=s=>t(l).request.file=s)},null,8,["modelValue"])]),_:1})]),o("div",ie,[a(d,{label:"Firstname"},{default:u(()=>[a(n,{modelValue:t(l).request.firstname,"onUpdate:modelValue":e[6]||(e[6]=s=>t(l).request.firstname=s)},null,8,["modelValue"])]),_:1}),a(d,{label:"Middlename"},{default:u(()=>[a(n,{modelValue:t(l).request.middlename,"onUpdate:modelValue":e[7]||(e[7]=s=>t(l).request.middlename=s)},null,8,["modelValue"])]),_:1}),a(d,{label:"Lastname"},{default:u(()=>[a(n,{modelValue:t(l).request.lastname,"onUpdate:modelValue":e[8]||(e[8]=s=>t(l).request.lastname=s)},null,8,["modelValue"])]),_:1}),a(d,{label:"Suffix"},{default:u(()=>[a(n,{modelValue:t(l).request.suffix,"onUpdate:modelValue":e[9]||(e[9]=s=>t(l).request.suffix=s)},null,8,["modelValue"])]),_:1})]),o("div",me,[a(d,{label:"Gender"},{default:u(()=>[a(n,{modelValue:t(l).request.gender,"onUpdate:modelValue":e[10]||(e[10]=s=>t(l).request.gender=s),options:t(z)},null,8,["modelValue","options"])]),_:1}),a(d,{label:"Birthdate"},{default:u(()=>[a(n,{modelValue:t(l).request.birtdate,"onUpdate:modelValue":e[11]||(e[11]=s=>t(l).request.birtdate=s),type:"date"},null,8,["modelValue"])]),_:1})]),o("div",pe,[a(d,{label:"Phone Number"},{default:u(()=>[a(n,{modelValue:t(l).request.telephone_number,"onUpdate:modelValue":e[12]||(e[12]=s=>t(l).request.telephone_number=s)},null,8,["modelValue"])]),_:1}),a(d,{label:"Address"},{default:u(()=>[a(n,{modelValue:t(l).request.address,"onUpdate:modelValue":e[13]||(e[13]=s=>t(l).request.address=s)},null,8,["modelValue"])]),_:1})]),o("div",ce,[a(d,{label:"Email"},{default:u(()=>[a(n,{modelValue:t(l).request.email,"onUpdate:modelValue":e[14]||(e[14]=s=>t(l).request.email=s)},null,8,["modelValue"])]),_:1}),a(d,{label:"Password"},{default:u(()=>[a(n,{modelValue:t(l).request.password,"onUpdate:modelValue":e[15]||(e[15]=s=>t(l).request.password=s),type:"password"},null,8,["modelValue"])]),_:1})]),o("div",fe,[a(d,{label:"Student Type"},{default:u(()=>[a(n,{modelValue:t(l).request.grouptype,"onUpdate:modelValue":e[16]||(e[16]=s=>t(l).request.grouptype=s),options:t(O)},null,8,["modelValue","options"])]),_:1}),a(d,{label:"Course"},{default:u(()=>[a(n,{modelValue:t(l).request.course_id,"onUpdate:modelValue":e[17]||(e[17]=s=>t(l).request.course_id=s),options:t($)},null,8,["modelValue","options"])]),_:1})]),o("div",_e,[a(d,{label:"Status"},{default:u(()=>[a(n,{modelValue:t(l).request.status_id,"onUpdate:modelValue":e[18]||(e[18]=s=>t(l).request.status_id=s),options:t(Q)},null,8,["modelValue","options"])]),_:1})])]),a(E),a(B,null,{default:u(()=>[a(I,{label:"Create",color:"info",onClick:e[19]||(e[19]=s=>w())})]),_:1})]),_:1},8,["headerIcon"])],64))}},be=o("h4",{class:"text-center"}," Click Delete to remove from list... ",-1),ve={class:"space-y-3"},Ve=o("span",{class:"font-bold"},"Student Details.",-1),qe={class:"grid grid-cols-1 md:grid-cols-2"},ye={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},ke={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},he={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ue={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},$e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ce={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Se={__name:"Update",props:{courses:{type:Array,default:[]},item:{type:Object,default:null}},emits:["back","userUpdate"],setup(P,{emit:q}){const y=P,l=N(),f=c(!1),i=c(""),V=c(""),_=c(""),U=c(!1),k=c(null),h=F("Loader"),$=x(()=>{const r=[];return y.courses.forEach(e=>{r.push({id:e.id,label:e.course})}),r}),S=()=>{q("back",!1)},w=()=>{h.show(),l.update().then(r=>{h.hide(),q("userUpdate",{status:!0,list:r.data.students})}).catch(()=>{h.hide(),q("userUpdate",{status:!1})})},g=()=>{if(_.value==""){alert("Fullname required");return}i.value=="member"?l.request.member.push({id:null,fullname:_.value}):i.value=="adviser"?l.request.adviser.push({id:null,fullname:_.value}):l.request.panel.push({id:null,fullname:_.value})},m=()=>{i.value=="member"?l.request.member.splice(k,1):i.value=="adviser"?l.request.adviser.splice(k,1):l.request.panel.splice(k,1)};return(r,e)=>(p(),v(D,null,[a(A,{modelValue:f.value,"onUpdate:modelValue":e[1]||(e[1]=s=>f.value=s),"large-title":V.value,button:"success",buttonLabel:"Add    ",onConfirm:e[2]||(e[2]=s=>g())},{default:u(()=>[a(d,{label:"Fullname"},{default:u(()=>[a(n,{modelValue:_.value,"onUpdate:modelValue":e[0]||(e[0]=s=>_.value=s)},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue","large-title"]),a(A,{modelValue:U.value,"onUpdate:modelValue":e[3]||(e[3]=s=>U.value=s),"large-title":"Delete entry...",button:"warning",buttonLabel:"Delete",onConfirm:e[4]||(e[4]=s=>m())},{default:u(()=>[be]),_:1},8,["modelValue"]),a(M,{title:"Update Student",form:!0,headerIcon:t(j),onHeaderIconClick:e[20]||(e[20]=s=>S())},{default:u(()=>[o("div",ve,[a(G,{color:"light"},{default:u(()=>[Ve]),_:1}),o("div",qe,[a(d,{label:"Profile Picture"},{default:u(()=>[a(H,{modelValue:t(l).request.file,"onUpdate:modelValue":e[5]||(e[5]=s=>t(l).request.file=s)},null,8,["modelValue"])]),_:1})]),o("div",ye,[a(d,{label:"Firstname"},{default:u(()=>[a(n,{modelValue:t(l).request.firstname,"onUpdate:modelValue":e[6]||(e[6]=s=>t(l).request.firstname=s)},null,8,["modelValue"])]),_:1}),a(d,{label:"Middlename"},{default:u(()=>[a(n,{modelValue:t(l).request.middlename,"onUpdate:modelValue":e[7]||(e[7]=s=>t(l).request.middlename=s)},null,8,["modelValue"])]),_:1}),a(d,{label:"Lastname"},{default:u(()=>[a(n,{modelValue:t(l).request.lastname,"onUpdate:modelValue":e[8]||(e[8]=s=>t(l).request.lastname=s)},null,8,["modelValue"])]),_:1}),a(d,{label:"Suffix"},{default:u(()=>[a(n,{modelValue:t(l).request.suffix,"onUpdate:modelValue":e[9]||(e[9]=s=>t(l).request.suffix=s)},null,8,["modelValue"])]),_:1})]),o("div",ke,[a(d,{label:"Gender"},{default:u(()=>[a(n,{modelValue:t(l).request.gender,"onUpdate:modelValue":e[10]||(e[10]=s=>t(l).request.gender=s),options:t(z)},null,8,["modelValue","options"])]),_:1}),a(d,{label:"Birthdate"},{default:u(()=>[a(n,{modelValue:t(l).request.birtdate,"onUpdate:modelValue":e[11]||(e[11]=s=>t(l).request.birtdate=s),type:"date"},null,8,["modelValue"])]),_:1})]),o("div",he,[a(d,{label:"Phone Number"},{default:u(()=>[a(n,{modelValue:t(l).request.telephone_number,"onUpdate:modelValue":e[12]||(e[12]=s=>t(l).request.telephone_number=s)},null,8,["modelValue"])]),_:1}),a(d,{label:"Address"},{default:u(()=>[a(n,{modelValue:t(l).request.address,"onUpdate:modelValue":e[13]||(e[13]=s=>t(l).request.address=s)},null,8,["modelValue"])]),_:1})]),o("div",Ue,[a(d,{label:"Email"},{default:u(()=>[a(n,{modelValue:t(l).request.email,"onUpdate:modelValue":e[14]||(e[14]=s=>t(l).request.email=s)},null,8,["modelValue"])]),_:1}),a(d,{label:"Password"},{default:u(()=>[a(n,{modelValue:t(l).request.password,"onUpdate:modelValue":e[15]||(e[15]=s=>t(l).request.password=s),type:"password"},null,8,["modelValue"])]),_:1})]),o("div",$e,[a(d,{label:"Student Type"},{default:u(()=>[a(n,{modelValue:t(l).request.grouptype,"onUpdate:modelValue":e[16]||(e[16]=s=>t(l).request.grouptype=s),options:t(O)},null,8,["modelValue","options"])]),_:1}),a(d,{label:"Course"},{default:u(()=>[a(n,{modelValue:t(l).request.course_id,"onUpdate:modelValue":e[17]||(e[17]=s=>t(l).request.course_id=s),options:t($)},null,8,["modelValue","options"])]),_:1})]),o("div",Ce,[a(d,{label:"Status"},{default:u(()=>[a(n,{modelValue:t(l).request.status_id,"onUpdate:modelValue":e[18]||(e[18]=s=>t(l).request.status_id=s),options:t(Q)},null,8,["modelValue","options"])]),_:1})])]),a(E),a(B,null,{default:u(()=>[a(I,{label:"Update",color:"info",onClick:e[19]||(e[19]=s=>w())})]),_:1})]),_:1},8,["headerIcon"])],64))}},we={key:0,class:"p-3 bg-gray-100/50 dark:bg-gray-800"},xe={key:0},De=o("th",null,"Image",-1),Pe=o("th",null,"Fullname",-1),Le=o("th",null,"Email",-1),Ie=o("th",null,"Course",-1),Ae=o("th",null,"Type",-1),Be=o("th",null,"Section",-1),Te=o("th",null,"Phone Number",-1),Me=o("th",null,"Address",-1),Ne=o("th",null,"Status",-1),Fe=o("th",null,null,-1),Ee={"data-label":"Image"},je=["src"],He={"data-label":"Fullname"},Ge={"data-label":"Email"},ze={"data-label":"Course"},Oe={"data-label":"Type"},Qe={"data-label":"Section"},We={key:0},Je={else:""},Ke={"data-label":"Phone Number"},Re={"data-label":"Address"},Xe={"data-label":"Status"},Ye={key:0,class:"p-1 bg-orange-400 text-white text-sm rounded font-semibold"},Ze={key:1,class:"p-1 bg-lime-400 text-white text-sm rounded font-semibold"},el={key:2,class:"p-1 bg-red-400 text-white text-sm rounded font-semibold"},ll={class:"before:hidden lg:w-1 whitespace-nowrap"},tl={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-gray-800"},sl={__name:"Table",props:{data:{type:Array,default:[]},checkable:Boolean},emits:["select-student","destroy-student"],setup(P,{emit:q}){const y=P,l=x(()=>y.data);c(!1);const f=c(10),i=c(0),V=c([]),_=x(()=>l.value.slice(f.value*i.value,f.value*(i.value+1))),U=x(()=>Math.ceil(l.value.length/f.value)),k=x(()=>i.value+1),h=x(()=>{const m=[];for(let r=0;r<U.value;r++)m.push(r);return m}),$=m=>{q("select-student",m)},S=m=>{q("destroy-student",m)},w=(m,r)=>{const e=[];return m.forEach(s=>{r(s)||e.push(s)}),e},g=(m,r)=>{m?V.value.push(r):V.value=w(V.value,e=>e.id===r.id)};return(m,r)=>(p(),v(D,null,[V.value.length?(p(),v("div",we,[(p(!0),v(D,null,T(V.value,e=>(p(),v("span",{key:e.id,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm bg-gray-100 dark:bg-gray-700"},b(e.name),1))),128))])):C("",!0),o("table",null,[o("thead",null,[o("tr",null,[y.checkable?(p(),v("th",xe)):C("",!0),De,Pe,Le,Ie,Ae,Be,Te,Me,Ne,Fe])]),o("tbody",null,[(p(!0),v(D,null,T(t(_),e=>(p(),v("tr",{key:e.id},[y.checkable?(p(),L(W,{key:0,onChecked:s=>g(s,e)},null,8,["onChecked"])):C("",!0),o("td",Ee,[o("img",{src:e.file_url==null?`${t(J)}myfiles/profile_pictures/default.png`:e.file_url,alt:"profile_picture",width:"100"},null,8,je)]),o("td",He,b(e.fullname),1),o("td",Ge,b(e.email),1),o("td",ze,b(e.studentdetail.course!==null?e.studentdetail.course.course.toUpperCase():""),1),o("td",Oe,b(e.studentdetail.grouptype!==null?e.studentdetail.grouptype.type:""),1),o("td",Qe,[e.studentdetail.grouptype_id==1?(p(),v("span",We,b(e.studentdetail.sectionone!==null?e.studentdetail.sectionone.section_code.toUpperCase():""),1)):C("",!0),o("span",Je,b(e.studentdetail.sectiontwo!==null?e.studentdetail.sectiontwo.section_code.toUpperCase():""),1)]),o("td",Ke,b(e.telephone_number),1),o("td",Re,b(e.address),1),o("td",Xe,[e.status_id==1?(p(),v("span",Ye,b(e.status.status),1)):e.status_id==2?(p(),v("span",Ze,b(e.status.status),1)):(p(),v("span",el,b(e.status.status),1))]),o("td",ll,[a(B,{type:"justify-start lg:justify-end","no-wrap":""},{default:u(()=>[a(I,{color:"info",icon:t(K),small:"",onClick:s=>$(e)},null,8,["icon","onClick"]),a(I,{color:"danger",icon:t(R),small:"",onClick:s=>S(e)},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])]),o("div",tl,[a(X,null,{default:u(()=>[a(B,null,{default:u(()=>[(p(!0),v(D,null,T(t(h),e=>(p(),L(I,{key:e,active:e===i.value,label:e+1,small:"",onClick:s=>i.value=e},null,8,["active","label","onClick"]))),128))]),_:1}),o("small",null,"Page "+b(t(k))+" of "+b(t(U)),1)]),_:1})])],64))}},fl={__name:"Students",setup(P){const q=c(["Admin","General","Students"]),y=oe(),l=N(),f=c(!1),i=c(!1);c(!1);const V=c(!1),_=()=>{l.status.status=!0};y.fetch(),l.fetch();const U=()=>{f.value=!0,i.value=!1},k=g=>{g.status&&(f.value=!1,i.value=!1)},h=g=>{g.status&&(l.list=g.list,f.value=!1,i.value=!1)},$=()=>{f.value=!1,i.value=!1,l.clear()},S=g=>{i.value=!0,f.value=!1,l.select(g)},w=g=>{V.value=!0,l.select(g)};return(g,m)=>(p(),v(D,null,[a(A,{modelValue:V.value,"onUpdate:modelValue":m[0]||(m[0]=r=>V.value=r),"large-title":"Delete Milestone",button:"danger",buttonLabel:"Confirm",onConfirm:m[1]||(m[1]=r=>g.milestoneStore.destroy()),"has-cancel":""},null,8,["modelValue"]),a(Y,{"title-stack":q.value},null,8,["title-stack"]),a(Z,null,{default:u(()=>[t(l).status.status?C("",!0):(p(),L(ae,{key:0,isDismissed:t(l).status.status,color:t(l).status.success?"success":"danger",icon:t(le),onHideNotification:_},{default:u(()=>[ee(b(t(l).status.message),1)]),_:1},8,["isDismissed","color","icon"])),f.value?(p(),L(ge,{key:1,courses:t(y).list,onBack:$,onUserCreate:k},null,8,["courses"])):C("",!0),i.value?(p(),L(Se,{key:2,courses:t(y).list,item:t(l).request,onBack:$,onUserUpdate:h},null,8,["courses","item"])):C("",!0),!f.value&&!i.value?(p(),L(M,{key:3,title:"Students List",hasTable:!0,icon:t(te),headerIcon:t(se),onHeaderIconClick:m[2]||(m[2]=r=>U())},{default:u(()=>[a(sl,{data:t(l).list,onSelectStudent:S,onDestroyStudent:w},null,8,["data"])]),_:1},8,["icon","headerIcon"])):C("",!0)]),_:1})],64))}};export{fl as default};
