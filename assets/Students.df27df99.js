import{V as H,r as i,A as C,o as m,k as v,a as l,w as d,b as u,u as s,v as j,x as M,y as A,a5 as G,f as E,F as L,L as F,t as V,B as D,c as I,a6 as R,T as W,a7 as X,a8 as Y,e as Z,l as ee,S as le,a9 as te,aa as se}from"./index.02e3cb5b.js";import{_ as B}from"./CardBoxModal.1a333cdf.js";import{_ as n}from"./FormField.7710561b.js";import{_ as O}from"./FormFilePicker.e281e131.js";import{_ as r}from"./FormControl.dbc7ef08.js";import{_ as z}from"./NotificationBarInCard.b7ac4c62.js";import{c as T}from"./alert.93440aee.js";import{u as N}from"./students.3e0d98ae.js";import{s as J,g as K,a as Q}from"./settings_data.619c00ae.js";import{u as ae}from"./course.d11ee161.js";const oe=u("h4",{class:"text-center"}," Click Delete to remove from list... ",-1),ue={class:"space-y-3"},de=u("span",{class:"font-bold"},"Student Details.",-1),ne={class:"grid grid-cols-1 md:grid-cols-2"},re={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},me={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},pe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},fe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ce={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_e={__name:"Create",props:{courses:{type:Array,default:[]}},emits:["back","userCreate"],setup(P,{emit:y}){const U=P,t=N(),p=H(),f=i(!1),c=i(""),S=i(""),g=i(""),$=i(!1),k=i(null),w=C(()=>{const o=[];return U.courses.forEach(e=>{o.push({id:e.id,label:e.course})}),o}),x=C(()=>J.filter(o=>o.id<=3)),b=()=>{y("back",!1)},h=()=>{p.showLoading=!0,t.create().then(o=>{T("success","Successfully created!"),y("userCreate",{status:!0,list:o.data.students}),p.showLoading=!1}).catch(()=>{T("warning","Check field required!"),y("userCreate",{status:!1}),p.showLoading=!1})},_=()=>{if(g.value==""){alert("Fullname required");return}c.value=="member"?t.request.member.push({id:null,fullname:g.value}):c.value=="adviser"?t.request.adviser.push({id:null,fullname:g.value}):t.request.panel.push({id:null,fullname:g.value})},q=()=>{c.value=="member"?t.request.member.splice(k,1):c.value=="adviser"?t.request.adviser.splice(k,1):t.request.panel.splice(k,1)};return(o,e)=>(m(),v(L,null,[l(B,{modelValue:f.value,"onUpdate:modelValue":e[1]||(e[1]=a=>f.value=a),"large-title":S.value,button:"success",buttonLabel:"Add    ",onConfirm:e[2]||(e[2]=a=>_())},{default:d(()=>[l(n,{label:"Fullname"},{default:d(()=>[l(r,{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=a=>g.value=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue","large-title"]),l(B,{modelValue:$.value,"onUpdate:modelValue":e[3]||(e[3]=a=>$.value=a),"large-title":"Delete entry...",button:"warning",buttonLabel:"Delete",onConfirm:e[4]||(e[4]=a=>q())},{default:d(()=>[oe]),_:1},8,["modelValue"]),l(E,{title:"Create New Student",form:!0,headerIcon:s(G),onHeaderIconClick:e[20]||(e[20]=a=>b())},{default:d(()=>[u("div",ue,[l(z,{color:"light"},{default:d(()=>[de]),_:1}),u("div",ne,[l(n,{label:"Profile Picture"},{default:d(()=>[l(O,{modelValue:s(t).request.file,"onUpdate:modelValue":e[5]||(e[5]=a=>s(t).request.file=a)},null,8,["modelValue"])]),_:1})]),u("div",re,[l(n,{label:"Firstname"},{default:d(()=>[l(r,{modelValue:s(t).request.firstname,"onUpdate:modelValue":e[6]||(e[6]=a=>s(t).request.firstname=a)},null,8,["modelValue"])]),_:1}),l(n,{label:"Middlename"},{default:d(()=>[l(r,{modelValue:s(t).request.middlename,"onUpdate:modelValue":e[7]||(e[7]=a=>s(t).request.middlename=a)},null,8,["modelValue"])]),_:1}),l(n,{label:"Lastname"},{default:d(()=>[l(r,{modelValue:s(t).request.lastname,"onUpdate:modelValue":e[8]||(e[8]=a=>s(t).request.lastname=a)},null,8,["modelValue"])]),_:1}),l(n,{label:"Suffix"},{default:d(()=>[l(r,{modelValue:s(t).request.suffix,"onUpdate:modelValue":e[9]||(e[9]=a=>s(t).request.suffix=a)},null,8,["modelValue"])]),_:1})]),u("div",ie,[l(n,{label:"Gender"},{default:d(()=>[l(r,{modelValue:s(t).request.gender,"onUpdate:modelValue":e[10]||(e[10]=a=>s(t).request.gender=a),options:s(K)},null,8,["modelValue","options"])]),_:1}),l(n,{label:"Birthdate"},{default:d(()=>[l(r,{modelValue:s(t).request.birtdate,"onUpdate:modelValue":e[11]||(e[11]=a=>s(t).request.birtdate=a),type:"date"},null,8,["modelValue"])]),_:1})]),u("div",me,[l(n,{label:"Phone Number"},{default:d(()=>[l(r,{modelValue:s(t).request.telephone_number,"onUpdate:modelValue":e[12]||(e[12]=a=>s(t).request.telephone_number=a)},null,8,["modelValue"])]),_:1}),l(n,{label:"Address"},{default:d(()=>[l(r,{modelValue:s(t).request.address,"onUpdate:modelValue":e[13]||(e[13]=a=>s(t).request.address=a)},null,8,["modelValue"])]),_:1})]),u("div",pe,[l(n,{label:"Email"},{default:d(()=>[l(r,{modelValue:s(t).request.email,"onUpdate:modelValue":e[14]||(e[14]=a=>s(t).request.email=a)},null,8,["modelValue"])]),_:1}),l(n,{label:"Password"},{default:d(()=>[l(r,{modelValue:s(t).request.password,"onUpdate:modelValue":e[15]||(e[15]=a=>s(t).request.password=a),type:"password"},null,8,["modelValue"])]),_:1})]),u("div",fe,[l(n,{label:"Student Type"},{default:d(()=>[l(r,{modelValue:s(t).request.grouptype,"onUpdate:modelValue":e[16]||(e[16]=a=>s(t).request.grouptype=a),options:s(Q)},null,8,["modelValue","options"])]),_:1}),l(n,{label:"Course"},{default:d(()=>[l(r,{modelValue:s(t).request.course_id,"onUpdate:modelValue":e[17]||(e[17]=a=>s(t).request.course_id=a),options:s(w)},null,8,["modelValue","options"])]),_:1})]),u("div",ce,[l(n,{label:"Status"},{default:d(()=>[l(r,{modelValue:s(t).request.status_id,"onUpdate:modelValue":e[18]||(e[18]=a=>s(t).request.status_id=a),options:s(x)},null,8,["modelValue","options"])]),_:1})])]),l(j),l(M,null,{default:d(()=>[l(A,{label:"Create",color:"info",onClick:e[19]||(e[19]=a=>h())})]),_:1})]),_:1},8,["headerIcon"])],64))}},ge=u("h4",{class:"text-center"}," Click Delete to remove from list... ",-1),be={class:"space-y-3"},ve=u("span",{class:"font-bold"},"Student Details.",-1),Ve={class:"grid grid-cols-1 md:grid-cols-2"},qe={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},ye={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ke={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},he={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ue={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},$e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ce={__name:"Update",props:{courses:{type:Array,default:[]},item:{type:Object,default:null}},emits:["back","userUpdate"],setup(P,{emit:y}){const U=P,t=N(),p=H(),f=i(!1),c=i(""),S=i(""),g=i(""),$=i(!1),k=i(null),w=C(()=>{const o=[];return U.courses.forEach(e=>{o.push({id:e.id,label:e.course})}),o}),x=C(()=>J.filter(o=>o.id<=3)),b=()=>{y("back",!1)},h=()=>{p.showLoading=!0,t.update().then(o=>{T("success","Successfully updated!"),y("userUpdate",{status:!0,list:o.data.students}),p.showLoading=!1}).catch(()=>{T("warning","Server error!"),y("userUpdate",{status:!1}),p.showLoading=!1})},_=()=>{if(g.value==""){alert("Fullname required");return}c.value=="member"?t.request.member.push({id:null,fullname:g.value}):c.value=="adviser"?t.request.adviser.push({id:null,fullname:g.value}):t.request.panel.push({id:null,fullname:g.value})},q=()=>{c.value=="member"?t.request.member.splice(k,1):c.value=="adviser"?t.request.adviser.splice(k,1):t.request.panel.splice(k,1)};return(o,e)=>(m(),v(L,null,[l(B,{modelValue:f.value,"onUpdate:modelValue":e[1]||(e[1]=a=>f.value=a),"large-title":S.value,button:"success",buttonLabel:"Add    ",onConfirm:e[2]||(e[2]=a=>_())},{default:d(()=>[l(n,{label:"Fullname"},{default:d(()=>[l(r,{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=a=>g.value=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue","large-title"]),l(B,{modelValue:$.value,"onUpdate:modelValue":e[3]||(e[3]=a=>$.value=a),"large-title":"Delete entry...",button:"warning",buttonLabel:"Delete",onConfirm:e[4]||(e[4]=a=>q())},{default:d(()=>[ge]),_:1},8,["modelValue"]),l(E,{title:"Update Student",form:!0,headerIcon:s(G),onHeaderIconClick:e[20]||(e[20]=a=>b())},{default:d(()=>[u("div",be,[l(z,{color:"light"},{default:d(()=>[ve]),_:1}),u("div",Ve,[l(n,{label:"Profile Picture"},{default:d(()=>[l(O,{modelValue:s(t).request.file,"onUpdate:modelValue":e[5]||(e[5]=a=>s(t).request.file=a)},null,8,["modelValue"])]),_:1})]),u("div",qe,[l(n,{label:"Firstname"},{default:d(()=>[l(r,{modelValue:s(t).request.firstname,"onUpdate:modelValue":e[6]||(e[6]=a=>s(t).request.firstname=a)},null,8,["modelValue"])]),_:1}),l(n,{label:"Middlename"},{default:d(()=>[l(r,{modelValue:s(t).request.middlename,"onUpdate:modelValue":e[7]||(e[7]=a=>s(t).request.middlename=a)},null,8,["modelValue"])]),_:1}),l(n,{label:"Lastname"},{default:d(()=>[l(r,{modelValue:s(t).request.lastname,"onUpdate:modelValue":e[8]||(e[8]=a=>s(t).request.lastname=a)},null,8,["modelValue"])]),_:1}),l(n,{label:"Suffix"},{default:d(()=>[l(r,{modelValue:s(t).request.suffix,"onUpdate:modelValue":e[9]||(e[9]=a=>s(t).request.suffix=a)},null,8,["modelValue"])]),_:1})]),u("div",ye,[l(n,{label:"Gender"},{default:d(()=>[l(r,{modelValue:s(t).request.gender,"onUpdate:modelValue":e[10]||(e[10]=a=>s(t).request.gender=a),options:s(K)},null,8,["modelValue","options"])]),_:1}),l(n,{label:"Birthdate"},{default:d(()=>[l(r,{modelValue:s(t).request.birtdate,"onUpdate:modelValue":e[11]||(e[11]=a=>s(t).request.birtdate=a),type:"date"},null,8,["modelValue"])]),_:1})]),u("div",ke,[l(n,{label:"Phone Number"},{default:d(()=>[l(r,{modelValue:s(t).request.telephone_number,"onUpdate:modelValue":e[12]||(e[12]=a=>s(t).request.telephone_number=a)},null,8,["modelValue"])]),_:1}),l(n,{label:"Address"},{default:d(()=>[l(r,{modelValue:s(t).request.address,"onUpdate:modelValue":e[13]||(e[13]=a=>s(t).request.address=a)},null,8,["modelValue"])]),_:1})]),u("div",he,[l(n,{label:"Email"},{default:d(()=>[l(r,{modelValue:s(t).request.email,"onUpdate:modelValue":e[14]||(e[14]=a=>s(t).request.email=a)},null,8,["modelValue"])]),_:1}),l(n,{label:"Password"},{default:d(()=>[l(r,{modelValue:s(t).request.password,"onUpdate:modelValue":e[15]||(e[15]=a=>s(t).request.password=a),type:"password"},null,8,["modelValue"])]),_:1})]),u("div",Ue,[l(n,{label:"Student Type"},{default:d(()=>[l(r,{modelValue:s(t).request.grouptype,"onUpdate:modelValue":e[16]||(e[16]=a=>s(t).request.grouptype=a),options:s(Q)},null,8,["modelValue","options"])]),_:1}),l(n,{label:"Course"},{default:d(()=>[l(r,{modelValue:s(t).request.course_id,"onUpdate:modelValue":e[17]||(e[17]=a=>s(t).request.course_id=a),options:s(w)},null,8,["modelValue","options"])]),_:1})]),u("div",$e,[l(n,{label:"Status"},{default:d(()=>[l(r,{modelValue:s(t).request.status_id,"onUpdate:modelValue":e[18]||(e[18]=a=>s(t).request.status_id=a),options:s(x)},null,8,["modelValue","options"])]),_:1})])]),l(j),l(M,null,{default:d(()=>[l(A,{label:"Update",color:"info",onClick:e[19]||(e[19]=a=>h())})]),_:1})]),_:1},8,["headerIcon"])],64))}},Se={key:0,class:"p-3 bg-gray-100/50 dark:bg-gray-800"},we={key:0},xe=u("th",null,"Image",-1),Le=u("th",null,"Fullname",-1),De=u("th",null,"Email",-1),Pe=u("th",null,"Course",-1),Ae=u("th",null,"Type",-1),Ie=u("th",null,"Section",-1),Be=u("th",null,"Phone Number",-1),Me=u("th",null,"Address",-1),Te=u("th",null,"Status",-1),Fe=u("th",null,null,-1),Ee={"data-label":"Image"},Ne=["src"],He={"data-label":"Fullname"},je={"data-label":"Email"},Ge={"data-label":"Course"},Oe={"data-label":"Type"},ze={"data-label":"Section"},Je={key:0},Ke={else:""},Qe={"data-label":"Phone Number"},Re={"data-label":"Address"},We={"data-label":"Status"},Xe={key:0,class:"p-1 bg-orange-400 text-white text-sm rounded font-semibold"},Ye={key:1,class:"p-1 bg-lime-400 text-white text-sm rounded font-semibold"},Ze={key:2,class:"p-1 bg-red-400 text-white text-sm rounded font-semibold"},el={class:"before:hidden lg:w-1 whitespace-nowrap"},ll={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-gray-800"},tl={__name:"Table",props:{data:{type:Array,default:[]},checkable:Boolean},emits:["select-student","destroy-student"],setup(P,{emit:y}){const U=P,t=C(()=>U.data);i(!1);const p=i(10),f=i(0),c=i([]),S=C(()=>t.value.slice(p.value*f.value,p.value*(f.value+1))),g=C(()=>Math.ceil(t.value.length/p.value)),$=C(()=>f.value+1),k=C(()=>{const _=[];for(let q=0;q<g.value;q++)_.push(q);return _}),w=_=>{y("select-student",_)},x=_=>{y("destroy-student",_)},b=(_,q)=>{const o=[];return _.forEach(e=>{q(e)||o.push(e)}),o},h=(_,q)=>{_?c.value.push(q):c.value=b(c.value,o=>o.id===q.id)};return(_,q)=>(m(),v(L,null,[c.value.length?(m(),v("div",Se,[(m(!0),v(L,null,F(c.value,o=>(m(),v("span",{key:o.id,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm bg-gray-100 dark:bg-gray-700"},V(o.name),1))),128))])):D("",!0),u("table",null,[u("thead",null,[u("tr",null,[U.checkable?(m(),v("th",we)):D("",!0),xe,Le,De,Pe,Ae,Ie,Be,Me,Te,Fe])]),u("tbody",null,[(m(!0),v(L,null,F(s(S),o=>(m(),v("tr",{key:o.id},[U.checkable?(m(),I(R,{key:0,onChecked:e=>h(e,o)},null,8,["onChecked"])):D("",!0),u("td",Ee,[u("img",{src:o.file_url==null?`${s(W)}myfiles/profile_pictures/default.png`:o.file_url,alt:"profile_picture",width:"100"},null,8,Ne)]),u("td",He,V(o.fullname),1),u("td",je,V(o.email),1),u("td",Ge,V(o.studentdetail.course!==null?o.studentdetail.course.course.toUpperCase():""),1),u("td",Oe,V(o.studentdetail.grouptype!==null?o.studentdetail.grouptype.type:""),1),u("td",ze,[o.studentdetail.grouptype_id==1?(m(),v("span",Je,V(o.studentdetail.sectionone!==null?o.studentdetail.sectionone.section_code.toUpperCase():""),1)):D("",!0),u("span",Ke,V(o.studentdetail.sectiontwo!==null?o.studentdetail.sectiontwo.section_code.toUpperCase():""),1)]),u("td",Qe,V(o.telephone_number),1),u("td",Re,V(o.address),1),u("td",We,[o.status_id==1?(m(),v("span",Xe,V(o.status.status),1)):o.status_id==2?(m(),v("span",Ye,V(o.status.status),1)):(m(),v("span",Ze,V(o.status.status),1))]),u("td",el,[l(M,{type:"justify-start lg:justify-end","no-wrap":""},{default:d(()=>[l(A,{color:"info",icon:s(X),small:"",onClick:e=>w(o)},null,8,["icon","onClick"]),l(A,{color:"danger",icon:s(Y),small:"",onClick:e=>x(o)},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])]),u("div",ll,[l(Z,null,{default:d(()=>[l(M,null,{default:d(()=>[(m(!0),v(L,null,F(s(k),o=>(m(),I(A,{key:o,active:o===f.value,label:o+1,small:"",onClick:e=>f.value=o},null,8,["active","label","onClick"]))),128))]),_:1}),u("small",null,"Page "+V(s($))+" of "+V(s(g)),1)]),_:1})])],64))}},fl={__name:"Students",setup(P){const y=i(["Admin","General","Students"]),U=ae(),t=N(),p=i(!1),f=i(!1);i(!1);const c=i(!1);U.fetch(),t.fetch();const S=()=>{p.value=!0,f.value=!1},g=b=>{b.status&&(p.value=!1,f.value=!1)},$=b=>{b.status&&(t.list=b.list,p.value=!1,f.value=!1)},k=()=>{p.value=!1,f.value=!1,t.clear()},w=b=>{f.value=!0,p.value=!1,t.select(b)},x=b=>{c.value=!0,t.select(b)};return(b,h)=>(m(),v(L,null,[l(B,{modelValue:c.value,"onUpdate:modelValue":h[0]||(h[0]=_=>c.value=_),"large-title":"Delete Milestone",button:"danger",buttonLabel:"Confirm",onConfirm:h[1]||(h[1]=_=>b.milestoneStore.destroy()),"has-cancel":""},null,8,["modelValue"]),l(ee,{"title-stack":y.value},null,8,["title-stack"]),l(le,null,{default:d(()=>[p.value?(m(),I(_e,{key:0,courses:s(U).list,onBack:k,onUserCreate:g},null,8,["courses"])):D("",!0),f.value?(m(),I(Ce,{key:1,courses:s(U).list,item:s(t).request,onBack:k,onUserUpdate:$},null,8,["courses","item"])):D("",!0),!p.value&&!f.value?(m(),I(E,{key:2,title:"Students List",hasTable:!0,icon:s(te),headerIcon:s(se),onHeaderIconClick:h[2]||(h[2]=_=>S())},{default:d(()=>[l(tl,{data:s(t).list,onSelectStudent:w,onDestroyStudent:x},null,8,["data"])]),_:1},8,["icon","headerIcon"])):D("",!0)]),_:1})],64))}};export{fl as default};
