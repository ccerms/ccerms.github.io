import{Q as n,R as r,T as i}from"./index.02e3cb5b.js";const l=n("milestonetwo",{state:()=>({list:[],request:{id:"",milestone:"",file:{},milestone_type:"",percent:"",ordernumber:""},status:{status:!0,success:!1,message:""}}),actions:{fetch(){r.get(`${i}api/twomilestones`).then(s=>{this.list=s.data})},create(){return new Promise((s,a)=>{let e=new FormData;e.append("milestone",this.request.milestone),e.append("file",this.request.file),e.append("milestone_type",this.request.milestone_type),e.append("percent",this.request.percent),e.append("ordernumber",this.request.ordernumber),r.post(`${i}api/twomilestones`,e,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>{this.list=t.data.milestones,this.status={status:!1,success:t.data.status==200,message:t.data.message},this.clear(),s(t)}).catch(t=>{this.status={status:!1,success:!1,message:"Server error!"},a(t)})})},select(s){this.request={id:s.id,milestone:s.milestone,file:{},milestone_type:s.milestone_type,percent:s.percent,ordernumber:s.ordernumber}},update(){return new Promise((s,a)=>{let e=new FormData;e.append("_method","PUT"),e.append("id",this.request.id),e.append("milestone",this.request.milestone),e.append("file",this.request.file),e.append("milestone_type",this.request.milestone_type),e.append("percent",this.request.percent),e.append("ordernumber",this.request.ordernumber),r.post(`${i}api/twomilestones/${this.request.id}`,e,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>{this.list=t.data.milestones,this.status={status:!1,success:t.data.status==200,message:t.data.message},this.clear(),s(t)}).catch(t=>{this.status={status:!1,success:!1,message:"Server error!"},a(t)})})},destroy(){console.log(this.id)},clear(){this.request={id:"",milestone:"",file:{},milestone_type:"",percent:"",ordernumber:""}}}});export{l as u};
