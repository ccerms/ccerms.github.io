import{Q as i,R as r,T as o}from"./index.02e3cb5b.js";const c=i("sections",{state:()=>({list:[],request:{id:"",section_code:"",room_number:"",user:"",grouptype:"",from_time:"",to_time:"",from_year:"",to_year:"",student:[],group:[],semester:""},status:{status:!0,success:!1,message:""}}),actions:{fetch(){r.get(`${o}api/sections`).then(e=>{this.list=e.data})},filter(e,s){return new Promise((t,u)=>{r.get(`${o}api/sections/filter/${e}/${s}`,{headers:{"Content-Type":"application/json"}}).then(a=>{t(a.data)}).catch(a=>{u(a)})})},create(){return this.request.student=this.request.student.map(function(e){return e.id}),this.request.group=this.request.group.map(function(e){return e.id}),new Promise((e,s)=>{r.post(`${o}api/sections`,this.request,{headers:{"Content-Type":"application/json"}}).then(t=>{this.list=t.data.sections,this.status={status:!1,success:t.data.status==200,message:t.data.message},this.clear(),e(t)}).catch(t=>{this.status={status:!1,success:!1,message:"Server error!"},s(t)})})},select(e){this.request={id:e.id,section_code:e.section_code,room_number:e.room_number,user:e.user_id,grouptype:e.grouptype_id,from_time:e.from_time,to_time:e.to_time,from_year:e.from_year,to_year:e.to_year,student:e.sectionstudent,group:e.sectiongroup,semester:e.semester}},update(){return this.request.student=this.request.student.map(function(e){return e.id}),this.request.group=this.request.group.map(function(e){return e.id}),new Promise((e,s)=>{r.put(`${o}api/sections/${this.request.id}`,this.request,{headers:{"Content-Type":"application/json"}}).then(t=>{this.list=t.data.sections,this.status={status:!1,success:t.data.status==200,message:t.data.message},this.clear(),e(t)}).catch(t=>{this.status={status:!1,success:!1,message:"Server error!"},s(t)})})},destroy(){console.log(this.id)},destroy_personnel(e,s){r.delete(`${o}api/${s}/${e}`)},clear(){this.request={id:"",section_code:"",room_number:"",user:"",grouptype:"",from_time:"",to_time:"",from_year:"",to_year:"",student:[],group:[],semester:""}}}});export{c as u};
