import{Q as d,R as r,T as i}from"./index.02e3cb5b.js";const n=d("students",{state:()=>({list:[],available:[],section_available:[],request:{id:"",firstname:"",middlename:"",lastname:"",suffix:"",gender:"",birtdate:"",telephone_number:"",address:"",email:"",password:"",file:{},usertype_id:6,grouptype:1,course_id:1,status_id:""},status:{status:!0,success:!1,message:""}}),actions:{fetch(){r.get(`${i}api/students`).then(t=>{this.list=t.data})},fetchAvailable(){r.get(`${i}api/students/available`).then(t=>{this.available=t.data.filter(s=>s.available)})},fetchSectionAvailable(){r.get(`${i}api/students/section_available`).then(t=>{this.section_available=t.data.map(function(s){return{id:s.id,fullname:s.fullname,email:s.email,section_one:s.section_one,section_two:s.section_two,is_available:!0}})})},create(){return new Promise((t,s)=>{let e=new FormData;e.append("firstname",this.request.firstname),e.append("middlename",this.request.middlename),e.append("lastname",this.request.lastname),e.append("suffix",this.request.suffix),e.append("gender",this.request.gender),e.append("birtdate",this.request.birthdate),e.append("telephone_number",this.request.telephone_number),e.append("address",this.request.address),e.append("email",this.request.email),e.append("password",this.request.password),e.append("file",this.request.file),e.append("usertype",this.request.usertype_id),e.append("other_type",this.request.other_type),e.append("grouptype",this.request.grouptype),e.append("course",this.request.course_id),e.append("status",this.request.status_id),r.post(`${i}api/students`,e,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{this.list=a.data.students,this.status={status:!1,success:a.data.status==200,message:a.data.message},this.clear(),t(a)}).catch(a=>{this.status={status:!1,success:!1,message:"Server error!"},s(a)})})},select(t){this.request={id:t.id,firstname:t.firstname,middlename:t.middlename,lastname:t.lastname,suffix:t.suffix,gender:t.gender,birtdate:t.birtdate,telephone_number:t.telephone_number,address:t.address,email:t.email,password:"",usertype_id:t.usertype_id,other_type:t.other_type,grouptype:t.studentdetail.grouptype_id,course_id:t.studentdetail.course_id,status_id:t.status_id}},update(){return new Promise((t,s)=>{let e=new FormData;e.append("_method","PUT"),e.append("id",this.request.id),e.append("firstname",this.request.firstname),e.append("middlename",this.request.middlename),e.append("lastname",this.request.lastname),e.append("suffix",this.request.suffix),e.append("gender",this.request.gender),e.append("birtdate",this.request.birthdate),e.append("telephone_number",this.request.telephone_number),e.append("address",this.request.address),e.append("email",this.request.email),e.append("password",this.request.password),e.append("file",this.request.file),e.append("usertype",this.request.usertype_id),e.append("other_type",this.request.other_type),e.append("grouptype",this.request.grouptype),e.append("course",this.request.course_id),e.append("status",this.request.status_id),r.post(`${i}api/students/${this.request.id}`,e,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{this.list=a.data.students,this.status={status:!1,success:a.data.status==200,message:a.data.message},this.clear(),t(a)}).catch(a=>{this.status={status:!1,success:!1,message:"Server error!"},s(a)})})},destroy(){console.log(this.id)},destroy_personnel(t,s){r.delete(`${i}api/${s}/${t}`)},clear(){this.request={id:"",firstname:"",middlename:"",lastname:"",suffix:"",gender:"",birtdate:"",telephone_number:"",address:"",email:"",password:"",file:{},usertype_id:6,other_type:"",grouptype:1,course_id:1,status_id:""}}}});export{n as u};
